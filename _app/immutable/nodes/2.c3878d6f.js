import{s as _e,e as le,f as ce,g as Ue,u as Ne,h as Fe,j as qe,d as ls,c as se,n as me,b as et,p as tt}from"../chunks/scheduler.b5cb2f20.js";import{S as pe,i as ve,e as Se,a as y,p as mt,t as C,b as _t,d as j,f as _,g as k,h as T,j as A,k as p,r as L,u as D,v as U,A as We,w as N,s as S,m as H,c as E,n as G,l as Y,x as O,o as re,y as Ve,F as Ke,G as st,E as ee,H as cs,I as us}from"../chunks/index.b54eaf43.js";import{e as oe,P as Ye}from"../chunks/Prose.c88bcef6.js";import{B as ue,g as hs,c as Et}from"../chunks/sha256.964a6591.js";import{_ as Me}from"../chunks/preload-helper.a4192956.js";function ds(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}function fs(n){let e,t;const s=n[9].default,r=Ue(s,n,n[8],null);return{c(){e=k("div"),r&&r.c(),this.h()},l(i){e=T(i,"DIV",{class:!0,id:!0});var a=A(e);r&&r.l(a),a.forEach(_),this.h()},h(){p(e,"class",n[2]),p(e,"id",n[0])},m(i,a){y(i,e,a),r&&r.m(e,null),t=!0},p(i,a){r&&r.p&&(!t||a&256)&&Ne(r,s,i,i[8],t?qe(s,i[8],a,null):Fe(i[8]),null),(!t||a&4)&&p(e,"class",i[2]),(!t||a&1)&&p(e,"id",i[0])},i(i){t||(j(r,i),t=!0)},o(i){C(r,i),t=!1},d(i){i&&_(e),r&&r.d(i)}}}function gs(n){let e,t;const s=n[9].default,r=Ue(s,n,n[8],null);return{c(){e=k("a"),r&&r.c(),this.h()},l(i){e=T(i,"A",{class:!0,id:!0,href:!0});var a=A(e);r&&r.l(a),a.forEach(_),this.h()},h(){p(e,"class",n[2]),p(e,"id",n[0]),p(e,"href",n[1])},m(i,a){y(i,e,a),r&&r.m(e,null),t=!0},p(i,a){r&&r.p&&(!t||a&256)&&Ne(r,s,i,i[8],t?qe(s,i[8],a,null):Fe(i[8]),null),(!t||a&4)&&p(e,"class",i[2]),(!t||a&1)&&p(e,"id",i[0]),(!t||a&2)&&p(e,"href",i[1])},i(i){t||(j(r,i),t=!0)},o(i){C(r,i),t=!1},d(i){i&&_(e),r&&r.d(i)}}}function ms(n){let e,t,s,r;const i=[gs,fs],a=[];function l(o,c){return o[1]?0:1}return e=l(n),t=a[e]=i[e](n),{c(){t.c(),s=Se()},l(o){t.l(o),s=Se()},m(o,c){a[e].m(o,c),y(o,s,c),r=!0},p(o,[c]){let u=e;e=l(o),e===u?a[e].p(o,c):(mt(),C(a[u],1,1,()=>{a[u]=null}),_t(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),j(t,1),t.m(s.parentNode,s))},i(o){r||(j(t),r=!0)},o(o){C(t),r=!1},d(o){o&&_(s),a[e].d(o)}}}function _s(n,e,t){let s,{$$slots:r={},$$scope:i}=e,{id:a=""}=e,{href:l=""}=e,{sizes:o="max-w-7xl w-full"}=e,{border:c=""}=e,{padding:u="sm:px-6 lg:px-8 px-4"}=e,{margin:f="mx-auto"}=e,{shadow:d=""}=e;return n.$$set=h=>{t(10,e=le(le({},e),ce(h))),"id"in h&&t(0,a=h.id),"href"in h&&t(1,l=h.href),"sizes"in h&&t(3,o=h.sizes),"border"in h&&t(4,c=h.border),"padding"in h&&t(5,u=h.padding),"margin"in h&&t(6,f=h.margin),"shadow"in h&&t(7,d=h.shadow),"$$scope"in h&&t(8,i=h.$$scope)},n.$$.update=()=>{t(2,s=`${o} ${u} ${f} ${d} ${c} ${e.class} relative`)},e=ce(e),[a,l,s,o,c,u,f,d,i,r]}class ze extends pe{constructor(e){super(),ve(this,e,_s,ms,_e,{id:0,href:1,sizes:3,border:4,padding:5,margin:6,shadow:7})}}function ps(n){let e,t,s,r;const i=n[10].default,a=Ue(i,n,n[9],null);return{c(){e=k("div"),a&&a.c(),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0,id:!0});var o=A(e);a&&a.l(o),o.forEach(_),this.h()},h(){p(e,"class",n[1]),p(e,"style",t=n[2].style),p(e,"id",s=n[2].id)},m(l,o){y(l,e,o),a&&a.m(e,null),r=!0},p(l,o){a&&a.p&&(!r||o&512)&&Ne(a,i,l,l[9],r?qe(i,l[9],o,null):Fe(l[9]),null),(!r||o&2)&&p(e,"class",l[1]),(!r||o&4&&t!==(t=l[2].style))&&p(e,"style",t),(!r||o&4&&s!==(s=l[2].id))&&p(e,"id",s)},i(l){r||(j(a,l),r=!0)},o(l){C(a,l),r=!1},d(l){l&&_(e),a&&a.d(l)}}}function vs(n){let e,t,s,r,i;const a=n[10].default,l=Ue(a,n,n[9],null);return{c(){e=k("a"),l&&l.c(),this.h()},l(o){e=T(o,"A",{class:!0,target:!0,href:!0,style:!0,id:!0});var c=A(e);l&&l.l(c),c.forEach(_),this.h()},h(){p(e,"class",n[1]),p(e,"target",t=n[2].target),p(e,"href",n[0]),p(e,"style",s=n[2].style),p(e,"id",r=n[2].id)},m(o,c){y(o,e,c),l&&l.m(e,null),i=!0},p(o,c){l&&l.p&&(!i||c&512)&&Ne(l,a,o,o[9],i?qe(a,o[9],c,null):Fe(o[9]),null),(!i||c&2)&&p(e,"class",o[1]),(!i||c&4&&t!==(t=o[2].target))&&p(e,"target",t),(!i||c&1)&&p(e,"href",o[0]),(!i||c&4&&s!==(s=o[2].style))&&p(e,"style",s),(!i||c&4&&r!==(r=o[2].id))&&p(e,"id",r)},i(o){i||(j(l,o),i=!0)},o(o){C(l,o),i=!1},d(o){o&&_(e),l&&l.d(o)}}}function bs(n){let e,t,s,r;const i=[vs,ps],a=[];function l(o,c){return o[0]?0:1}return e=l(n),t=a[e]=i[e](n),{c(){t.c(),s=Se()},l(o){t.l(o),s=Se()},m(o,c){a[e].m(o,c),y(o,s,c),r=!0},p(o,[c]){let u=e;e=l(o),e===u?a[e].p(o,c):(mt(),C(a[u],1,1,()=>{a[u]=null}),_t(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),j(t,1),t.m(s.parentNode,s))},i(o){r||(j(t),r=!0)},o(o){C(t),r=!1},d(o){o&&_(s),a[e].d(o)}}}function ys(n,e,t){let s,{$$slots:r={},$$scope:i}=e,{href:a=""}=e,{size:l="max-w-md"}=e,{border:o=""}=e,{radius:c="rounded-md"}=e,{padding:u=" sm:px-6 lg:px-8 px-4 py-3 sm:py-4 lg:py-6"}=e,{margin:f="mx-auto"}=e,{shadow:d=""}=e;return n.$$set=h=>{t(2,e=le(le({},e),ce(h))),"href"in h&&t(0,a=h.href),"size"in h&&t(3,l=h.size),"border"in h&&t(4,o=h.border),"radius"in h&&t(5,c=h.radius),"padding"in h&&t(6,u=h.padding),"margin"in h&&t(7,f=h.margin),"shadow"in h&&t(8,d=h.shadow),"$$scope"in h&&t(9,i=h.$$scope)},n.$$.update=()=>{t(1,s=`${l} ${f}  ${u} ${d} ${o} ${c} ${e.class}`)},e=ce(e),[a,s,e,l,o,c,u,f,d,i,r]}class Ot extends pe{constructor(e){super(),ve(this,e,ys,bs,_e,{href:0,size:3,border:4,radius:5,padding:6,margin:7,shadow:8})}}function ws(n){let e,t,s,r;const i=n[9].default,a=Ue(i,n,n[8],null);return{c(){e=k("section"),a&&a.c(),this.h()},l(l){e=T(l,"SECTION",{class:!0,style:!0,id:!0});var o=A(e);a&&a.l(o),o.forEach(_),this.h()},h(){p(e,"class",n[0]),p(e,"style",t=n[1].style),p(e,"id",s=n[1].id)},m(l,o){y(l,e,o),a&&a.m(e,null),r=!0},p(l,[o]){a&&a.p&&(!r||o&256)&&Ne(a,i,l,l[8],r?qe(i,l[8],o,null):Fe(l[8]),null),(!r||o&1)&&p(e,"class",l[0]),(!r||o&2&&t!==(t=l[1].style))&&p(e,"style",t),(!r||o&2&&s!==(s=l[1].id))&&p(e,"id",s)},i(l){r||(j(a,l),r=!0)},o(l){C(a,l),r=!1},d(l){l&&_(e),a&&a.d(l)}}}function $s(n,e,t){let s,{$$slots:r={},$$scope:i}=e,{background:a=""}=e,{border:l=""}=e,{padding:o=""}=e,{shadow:c=""}=e,{gap:u="gap-6"}=e,{typography:f=""}=e;return n.$$set=d=>{t(1,e=le(le({},e),ce(d))),"background"in d&&t(2,a=d.background),"border"in d&&t(3,l=d.border),"padding"in d&&t(4,o=d.padding),"shadow"in d&&t(5,c=d.shadow),"gap"in d&&t(6,u=d.gap),"typography"in d&&t(7,f=d.typography),"$$scope"in d&&t(8,i=d.$$scope)},n.$$.update=()=>{t(0,s=`grid place-items-center relative
   ${a} ${l} ${o} ${c} ${f} ${e.class}`)},e=ce(e),[s,e,a,l,o,c,u,f,i,r]}class ke extends pe{constructor(e){super(),ve(this,e,$s,ws,_e,{background:2,border:3,padding:4,shadow:5,gap:6,typography:7})}}function jt(n,e,t){const s=n.slice();return s[14]=e[t][0],s[15]=e[t][1].href,s[16]=e[t][1].highlight,s}function ks(n){let e,t,s,r,i,a;return{c(){e=k("video"),t=k("source"),i=H(`
        Your Browser does not support our video types
        `),a=k("track"),this.h()},l(l){e=T(l,"VIDEO",{id:!0,preload:!0,class:!0});var o=A(e);t=T(o,"SOURCE",{title:!0,type:!0,src:!0}),i=G(o,`
        Your Browser does not support our video types
        `),a=T(o,"TRACK",{kind:!0}),o.forEach(_),this.h()},h(){p(t,"title",s=n[10].company),p(t,"type","video/webm"),se(t.src,r=n[1])||p(t,"src",r),p(a,"kind","captions"),e.muted=!0,p(e,"id","clip"),p(e,"preload","auto"),e.autoplay=!0,e.loop=!0,p(e,"class","object-cover object-center w-full h-screen max-h-screen")},m(l,o){y(l,e,o),O(e,t),O(e,i),O(e,a)},p(l,o){o&1024&&s!==(s=l[10].company)&&p(t,"title",s),o&2&&!se(t.src,r=l[1])&&p(t,"src",r)},d(l){l&&_(e)}}}function Ts(n){let e,t;return{c(){e=k("img"),this.h()},l(s){e=T(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){se(e.src,t=n[0])||p(e,"src",t),p(e,"alt",""),p(e,"class","object-cover object-center w-full h-screen max-h-screen mix-blend-darken")},m(s,r){y(s,e,r)},p(s,r){r&1&&!se(e.src,t=s[0])&&p(e,"src",t)},d(s){s&&_(e)}}}function Ss(n){let e=n[14]+"",t,s;return{c(){t=H(e),s=S()},l(r){t=G(r,e),s=E(r)},m(r,i){y(r,t,i),y(r,s,i)},p(r,i){i&128&&e!==(e=r[14]+"")&&re(t,e)},d(r){r&&(_(t),_(s))}}}function Ct(n){let e,t;return e=new ue({props:{class:"w-full",highlight:n[16],href:n[15],$$slots:{default:[Ss]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,r){const i={};r&128&&(i.highlight=s[16]),r&128&&(i.href=s[15]),r&524416&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Es(n){let e,t,s,r,i,a,l,o,c,u,f,d,h,g,m,v,b,$;function M(w,x){return w[0]=="sdf"?Ts:ks}let P=M(n),z=P(n),K=oe(Object.entries(n[7])),J=[];for(let w=0;w<K.length;w+=1)J[w]=Ct(jt(n,K,w));const F=w=>C(J[w],1,1,()=>{J[w]=null});return{c(){e=k("div"),s=S(),r=k("div"),z.c(),a=S(),l=k("div"),o=k("div"),c=k("h1"),u=H(n[4]),f=S(),d=k("h5"),h=H(n[5]),g=S(),m=k("div");for(let w=0;w<J.length;w+=1)J[w].c();this.h()},l(w){e=T(w,"DIV",{class:!0}),A(e).forEach(_),s=E(w),r=T(w,"DIV",{class:!0});var x=A(r);z.l(x),x.forEach(_),a=E(w),l=T(w,"DIV",{class:!0});var q=A(l);o=T(q,"DIV",{class:!0});var Z=A(o);c=T(Z,"H1",{class:!0,style:!0});var je=A(c);u=G(je,n[4]),je.forEach(_),f=E(Z),d=T(Z,"H5",{class:!0,style:!0});var Tt=A(d);h=G(Tt,n[5]),Tt.forEach(_),Z.forEach(_),g=E(q),m=T(q,"DIV",{class:!0});var St=A(m);for(let Ze=0;Ze<J.length;Ze+=1)J[Ze].l(St);St.forEach(_),q.forEach(_),this.h()},h(){p(e,"class",t=n[2]+" w-full h-full z-0 absolute"),p(r,"class",i=(n[3]?"fixed":"absolute ")+" w-full h-full not-prose -z-10"),p(c,"class",""),Y(c,"margin","0px"),p(d,"class","max-w-6xl"),Y(d,"margin","0px"),p(o,"class","flex flex-col items-center gap-4 "),p(m,"class",v="grid grid-cols-"+Object.entries(n[7]).length+" gap-4 md:gap-6 place-items-center w-fit"),p(l,"class",b="flex flex-col w-full z-10 items-center "+n[9]()+" my-auto gap-12 mx-2 sm:mx-4 md:mx-6 "+(n[3]?"fixed":""))},m(w,x){y(w,e,x),y(w,s,x),y(w,r,x),z.m(r,null),y(w,a,x),y(w,l,x),O(l,o),O(o,c),O(c,u),O(o,f),O(o,d),O(d,h),O(l,g),O(l,m);for(let q=0;q<J.length;q+=1)J[q]&&J[q].m(m,null);$=!0},p(w,x){if((!$||x&4&&t!==(t=w[2]+" w-full h-full z-0 absolute"))&&p(e,"class",t),P===(P=M(w))&&z?z.p(w,x):(z.d(1),z=P(w),z&&(z.c(),z.m(r,null))),(!$||x&8&&i!==(i=(w[3]?"fixed":"absolute ")+" w-full h-full not-prose -z-10"))&&p(r,"class",i),(!$||x&16)&&re(u,w[4]),(!$||x&32)&&re(h,w[5]),x&128){K=oe(Object.entries(w[7]));let q;for(q=0;q<K.length;q+=1){const Z=jt(w,K,q);J[q]?(J[q].p(Z,x),j(J[q],1)):(J[q]=Ct(Z),J[q].c(),j(J[q],1),J[q].m(m,null))}for(mt(),q=K.length;q<J.length;q+=1)F(q);_t()}(!$||x&128&&v!==(v="grid grid-cols-"+Object.entries(w[7]).length+" gap-4 md:gap-6 place-items-center w-fit"))&&p(m,"class",v),(!$||x&8&&b!==(b="flex flex-col w-full z-10 items-center "+w[9]()+" my-auto gap-12 mx-2 sm:mx-4 md:mx-6 "+(w[3]?"fixed":"")))&&p(l,"class",b)},i(w){if(!$){for(let x=0;x<K.length;x+=1)j(J[x]);$=!0}},o(w){J=J.filter(Boolean);for(let x=0;x<J.length;x+=1)C(J[x]);$=!1},d(w){w&&(_(e),_(s),_(r),_(a),_(l)),z.d(),Ve(J,w)}}}function Os(n){let e=!1,t=()=>{e=!1},s,r,i,a,l;return ls(n[12]),r=new ke({props:{class:"h-screen w-full z-0 "+n[6],style:n[10].style+" ; clip-path: inset(0 0 0 0);",$$slots:{default:[Es]},$$scope:{ctx:n}}}),{c(){L(r.$$.fragment)},l(o){D(r.$$.fragment,o)},m(o,c){U(r,o,c),i=!0,a||(l=We(window,"scroll",()=>{e=!0,clearTimeout(s),s=setTimeout(t,100),n[12]()}),a=!0)},p(o,[c]){c&256&&!e&&(e=!0,clearTimeout(s),scrollTo(window.pageXOffset,o[8]),s=setTimeout(t,100));const u={};c&64&&(u.class="h-screen w-full z-0 "+o[6]),c&1024&&(u.style=o[10].style+" ; clip-path: inset(0 0 0 0);"),c&525503&&(u.$$scope={dirty:c,ctx:o}),r.$set(u)},i(o){i||(j(r.$$.fragment,o),i=!0)},o(o){C(r.$$.fragment,o),i=!1},d(o){N(r,o),a=!1,l()}}}function js(n,e,t){let{bgImg:s=""}=e,{bgVideo:r=""}=e,{bgCover:i="bg-black/0"}=e,{parallax:a=!1}=e,{title:l="This is a great title for Company Name"}=e,{subtitle:o="This is an even better piece of text. Specifically, this is a subtitle"}=e,{typography:c=""}=e,{CTAButtons:u={"CTA ONE":{href:"/",highlight:!0},"CTA TWO":{href:"/",highlight:!1}}}=e,{justified:f="center"}=e,d=()=>{switch(f){case"left":return"items-start text-left";case"right":return"items-end text-right";case"center":return"items-center text-center"}},h;function g(){t(8,h=window.pageYOffset)}return n.$$set=m=>{t(10,e=le(le({},e),ce(m))),"bgImg"in m&&t(0,s=m.bgImg),"bgVideo"in m&&t(1,r=m.bgVideo),"bgCover"in m&&t(2,i=m.bgCover),"parallax"in m&&t(3,a=m.parallax),"title"in m&&t(4,l=m.title),"subtitle"in m&&t(5,o=m.subtitle),"typography"in m&&t(6,c=m.typography),"CTAButtons"in m&&t(7,u=m.CTAButtons),"justified"in m&&t(11,f=m.justified)},n.$$.update=()=>{n.$$.dirty&256},e=ce(e),[s,r,i,a,l,o,c,u,h,d,e,f,g]}class Cs extends pe{constructor(e){super(),ve(this,e,js,Os,_e,{bgImg:0,bgVideo:1,bgCover:2,parallax:3,title:4,subtitle:5,typography:6,CTAButtons:7,justified:11})}}const As=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Me(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class pt extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Is extends pt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rs extends pt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ps extends pt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xs=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};class Ls{constructor(e,{headers:t={},customFetch:s}={}){this.url=e,this.headers=t,this.fetch=As(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return xs(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=t;let l={},o;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",o=a):typeof a=="string"?(l["Content-Type"]="text/plain",o=a):typeof FormData<"u"&&a instanceof FormData?o=a:(l["Content-Type"]="application/json",o=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:o}).catch(h=>{throw new Is(h)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new Rs(c);if(!c.ok)throw new Ps(c);let f=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),d;return f==="application/json"?d=yield c.json():f==="application/octet-stream"?d=yield c.blob():f==="multipart/form-data"?d=yield c.formData():d=yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var ut={exports:{}};(function(n,e){var t=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Et<"u")return Et;throw new Error("unable to locate global object")},s=t();n.exports=e=s.fetch,s.fetch&&(e.default=s.fetch.bind(s)),e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response})(ut,ut.exports);var vt=ut.exports;const bt=hs(vt),Je=ds({__proto__:null,default:bt},[vt]);class Ds{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=bt:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,o;let c=null,u=null,f=null,d=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,d=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,d=200,h="OK")}catch{i.status===404&&m===""?(d=204,h="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((o=c==null?void 0:c.details)===null||o===void 0)&&o.includes("0 rows"))&&(c=null,d=200,h="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:f,status:d,statusText:h}});return this.shouldThrowOnError||(r=r.catch(i=>{var a,l,o;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=i==null?void 0:i.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}}class Us extends Ds{select(e){let t=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r}={}){const i=r?`${r}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const s=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:s}={}){const r=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${o}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Te extends Us{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t}={}){const s=t?`${t}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}}class Ns{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=t,this.schema=s,this.fetch=r}select(e,{head:t=!1,count:s}={}){const r=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new Te({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(a.length>0){const l=[...new Set(a)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new Te({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Te({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new Te({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Te({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Fs="1.8.5",qs={"X-Client-Info":`postgrest-js/${Fs}`};class yt{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},qs),t),this.schemaName=s,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Ns(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yt(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,count:r}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;s?(i="HEAD",Object.entries(t).forEach(([c,u])=>{a.searchParams.append(c,`${u}`)})):(i="POST",l=t);const o=Object.assign({},this.headers);return r&&(o.Prefer=`count=${r}`),new Te({method:i,url:a,headers:o,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}var rt,At;function Ms(){if(At)return rt;At=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return rt=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),rt}const zs="websocket",Js="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Bs=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Hs="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Gs=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Vs="1.0.34",Ks={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Ws="https://github.com/theturtle32/WebSocket-Node",Ys={node:">=4.0.0"},Xs={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Qs={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Zs={verbose:!1},er={test:"tape test/unit/*.js",gulp:"gulp"},tr="index",sr={lib:"./lib"},rr="lib/browser.js",ir="Apache-2.0",nr={name:zs,description:Js,keywords:Bs,author:Hs,contributors:Gs,version:Vs,repository:Ks,homepage:Ws,engines:Ys,dependencies:Xs,devDependencies:Qs,config:Zs,scripts:er,main:tr,directories:sr,browser:rr,license:ir};var ar=nr.version,fe;if(typeof globalThis=="object")fe=globalThis;else try{fe=Ms()}catch{}finally{if(!fe&&typeof window<"u"&&(fe=window),!fe)throw new Error("Could not determine global this")}var Le=fe.WebSocket||fe.MozWebSocket,or=ar;function Zt(n,e){var t;return e?t=new Le(n,e):t=new Le(n),t}Le&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(Zt,n,{get:function(){return Le[n]}})});var lr={w3cwebsocket:Le?Zt:null,version:or};const cr="2.8.1",ur={"X-Client-Info":`realtime-js/${cr}`},hr="1.0.0",es=1e4,dr=1e3;var Re;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Re||(Re={}));var W;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(W||(W={}));var Q;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Q||(Q={}));var ht;(function(n){n.websocket="websocket"})(ht||(ht={}));var ge;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ge||(ge={}));class ts{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class fr{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const l=s.decode(e.slice(a,a+r));a=a+r;const o=s.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class it{constructor(e,t,s={},r=es){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var It;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(It||(It={}));class Pe{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pe.syncState(this.state,r,i,a),this.pendingDiffs.forEach(o=>{this.state=Pe.syncDiff(this.state,o,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Pe.syncDiff(this.state,r,i,a),l())}),this.onJoin((r,i,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:a})}),this.onLeave((r,i,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const i=this.cloneDeep(e),a=this.transformState(t),l={},o={};return this.map(i,(c,u)=>{a[c]||(o[c]=u)}),this.map(a,(c,u)=>{const f=i[c];if(f){const d=u.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=u.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>d.indexOf(v.presence_ref)<0);g.length>0&&(l[c]=g),m.length>0&&(o[c]=m)}else l[c]=u}),this.syncDiff(i,{joins:l,leaves:o},s,r)}static syncDiff(e,t,s,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(l,o)=>{var c;const u=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(o),u.length>0){const f=e[l].map(h=>h.presence_ref),d=u.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...d)}s(l,u,o)}),this.map(a,(l,o)=>{let c=e[l];if(!c)return;const u=o.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[l]=c,r(l,c,o),c.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(B||(B={}));const Rt=(n,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,a)=>(i[a]=gr(a,n,e,r),i),{})},gr=(n,e,t,s)=>{const r=e.find(l=>l.name===n),i=r==null?void 0:r.type,a=t[n];return i&&!s.includes(i)?ss(i,a):dt(a)},ss=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return vr(e,t)}switch(n){case B.bool:return mr(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return _r(e);case B.json:case B.jsonb:return pr(e);case B.timestamp:return br(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return dt(e);default:return dt(e)}},dt=n=>n,mr=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},_r=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},pr=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},vr=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let i;const a=n.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ss(e,l))}return n},br=n=>typeof n=="string"?n.replace(" ","T"):n;var Pt;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Pt||(Pt={}));var xt;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(xt||(xt={}));var Lt;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class wt{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=W.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new it(this,Q.join,this.params,this.timeout),this.rejoinTimer=new ts(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=W.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=W.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Q.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Pe(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},o={broadcast:i,presence:a,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,d=(u=f==null?void 0:f.length)!==null&&u!==void 0?u:0,h=[];for(let g=0;g<d;g++){const m=f[g],{filter:{event:v,schema:b,table:$,filter:M}}=m,P=c&&c[g];if(P&&P.event===v&&P.schema===b&&P.table===$&&P.filter===M)h.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{apikey:(s=this.socket.accessToken)!==null&&s!==void 0?s:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,o;const c=this._push(e.type,e,t.timeout||this.timeout);c.rateLimited&&i("rate limited"),e.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=W.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Q.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new it(this,Q.leave,{},e);r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new it(this,e,t,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;const a=e.toLocaleLowerCase(),{close:l,error:o,leave:c,join:u}=Q;if(s&&[l,o,c,u].indexOf(a)>=0&&s!==this._joinRef())return;let d=this._onMessage(a,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(h=>h.callback(d,s)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var g,m,v,b,$,M;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const P=h.id,z=(g=h.filter)===null||g===void 0?void 0:g.event;return P&&((m=t.ids)===null||m===void 0?void 0:m.includes(P))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const P=($=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return P==="*"||P===((M=t==null?void 0:t.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:m,table:v,commit_timestamp:b,type:$,errors:M}=g;d=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:$,new:{},old:{},errors:M}),this._getPayloadRecords(g))}h.callback(d,s)})}_isClosed(){return this.state===W.closed}_isJoined(){return this.state===W.joined}_isJoining(){return this.state===W.joining}_isLeaving(){return this.state===W.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&wt.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Q.close,{},e)}_onError(e){this._on(Q.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=W.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Rt(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Rt(e.columns,e.old_record)),t}}const yr=()=>{};class wr{constructor(e,t){var s,r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=ur,this.params={},this.timeout=es,this.transport=lr.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yr,this.conn=null,this.sendBuffer=[],this.serializer=new fr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...c)=>Me(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url).then(({default:u})=>u(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${e}/${ht.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i));const a=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;a&&(this.accessToken=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(l,o)=>o(JSON.stringify(l)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ts(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Re.connecting:return ge.Connecting;case Re.open:return ge.Open;case Re.closing:return ge.Closing;default:return ge.Closed}}isConnected(){return this.connectionState()===ge.Open}channel(e,t={config:{}}){const s=new wt(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:r,ref:i}=e;let a=()=>{this.encode(e,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};if(this.log("push",`${t} ${s} (${i})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(s)){if(this._throttle(a)())return"rate limited"}else a();else this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Q.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hr}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:r,payload:i,ref:a}=t;(a&&a===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(r,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Q.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(dr,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class $t extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function V(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class $r extends $t{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dt extends $t{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var kr=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const rs=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Me(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Tr=()=>kr(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Me(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url)).Response:Response});var Ee=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const nt=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Sr=(n,e)=>Ee(void 0,void 0,void 0,function*(){const t=yield Tr();n instanceof t?n.json().then(s=>{e(new $r(nt(s),n.status||500))}).catch(s=>{e(new Dt(nt(s),s))}):e(new Dt(nt(n),n))}),Er=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};function Xe(n,e,t,s,r,i){return Ee(this,void 0,void 0,function*(){return new Promise((a,l)=>{n(t,Er(e,s,r,i)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>Sr(o,l))})})}function ft(n,e,t,s){return Ee(this,void 0,void 0,function*(){return Xe(n,"GET",e,t,s)})}function ne(n,e,t,s,r){return Ee(this,void 0,void 0,function*(){return Xe(n,"POST",e,s,r,t)})}function Or(n,e,t,s,r){return Ee(this,void 0,void 0,function*(){return Xe(n,"PUT",e,s,r,t)})}function is(n,e,t,s,r){return Ee(this,void 0,void 0,function*(){return Xe(n,"DELETE",e,s,r,t)})}var X=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const jr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ut={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cr{constructor(e,t={},s,r){this.url=e,this.headers=t,this.bucketId=s,this.fetch=rs(r)}uploadOrUpdate(e,t,s,r){return X(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ut),r),l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",a.cacheControl)):(i=s,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType);const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return u.ok?{data:{path:o},error:null}:{data:null,error:yield u.json()}}catch(i){if(V(i))return{data:null,error:i};throw i}})}upload(e,t,s){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return X(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let o;const c=Object.assign({upsert:Ut.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",c.cacheControl)):(o=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:u});return f.ok?{data:{path:i},error:null}:{data:null,error:yield f.json()}}catch(o){if(V(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e){return X(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const s=yield ne(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+s.url),i=r.searchParams.get("token");if(!i)throw new $t("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:i},error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}update(e,t,s){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t){return X(this,void 0,void 0,function*(){try{return{data:yield ne(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}copy(e,t){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield ne(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,s){return X(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield ne(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return X(this,void 0,void 0,function*(){try{const r=yield ne(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}download(e,t){return X(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ft(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(V(l))return{data:null,error:l};throw l}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${c}`)}}}remove(e){return X(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}list(e,t,s){return X(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},jr),t),{prefix:e||""});return{data:yield ne(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ar="2.5.4",Ir={"X-Client-Info":`storage-js/${Ar}`};var be=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};class Rr{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ir),t),this.fetch=rs(s)}listBuckets(){return be(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}})}getBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return be(this,void 0,void 0,function*(){try{return{data:yield ne(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return be(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}emptyBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield ne(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}deleteBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}}class Pr extends Rr{constructor(e,t={},s){super(e,t,s)}from(e){return new Cr(this.url,this.headers,e,this.fetch)}}const xr="2.38.2";let Ae="";typeof Deno<"u"?Ae="deno":typeof document<"u"?Ae="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ae="react-native":Ae="node";const Lr={"X-Client-Info":`supabase-js-${Ae}/${xr}`};var Dr=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const Ur=n=>{let e;return n?e=n:typeof fetch>"u"?e=bt:e=fetch,(...t)=>e(...t)},Nr=()=>typeof Headers>"u"?vt.Headers:Headers,Fr=(n,e,t)=>{const s=Ur(t),r=Nr();return(i,a)=>Dr(void 0,void 0,void 0,function*(){var l;const o=(l=yield e())!==null&&l!==void 0?l:n;let c=new r(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),s(i,Object.assign(Object.assign({},a),{headers:c}))})};function qr(n){return n.replace(/\/$/,"")}function Mr(n,e){const{db:t,auth:s,realtime:r,global:i}=n,{db:a,auth:l,realtime:o,global:c}=e;return{db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},o),r),global:Object.assign(Object.assign({},c),i)}}function zr(n){return Math.round(Date.now()/1e3)+n}function Jr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const te=()=>typeof document<"u",he={tested:!1,writable:!1},xe=()=>{if(!te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(he.tested)return he.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),he.tested=!0,he.writable=!0}catch{he.tested=!0,he.writable=!1}return he.writable};function at(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const ns=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Me(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Br=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",de=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Be=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ot=async(n,e)=>{await n.removeItem(e)};function Hr(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,r,i,a,l,o,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),o=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),s=a<<2|l>>4,r=(l&15)<<4|o>>2,i=(o&3)<<6|c,t=t+String.fromCharCode(s),o!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Qe{constructor(){this.promise=new Qe.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Qe.promiseConstructor=Promise;function Nt(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(Hr(s))}async function Gr(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Vr(n,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await n(i);if(!e(i,null,a)){s(a);return}}catch(a){if(!e(i,a)){r(a);return}}})()})}function Kr(n){return("0"+n.toString(16)).substr(-2)}function ye(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let i=0;i<56;i++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,Kr).join("")}async function Wr(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function Yr(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function we(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Wr(n);return Yr(t)}class kt extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function I(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Xr extends kt{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Qr(n){return I(n)&&n.name==="AuthApiError"}class as extends kt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Oe extends kt{constructor(e,t,s){super(e),this.name=t,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $e extends Oe{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class lt extends Oe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class He extends Oe{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Ge extends Oe{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ft extends Oe{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gt extends Oe{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function qt(n){return I(n)&&n.name==="AuthRetryableFetchError"}var Zr=globalThis&&globalThis.__rest||function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const Ie=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ei=[502,503,504];async function Mt(n){if(!Br(n))throw new gt(Ie(n),0);if(ei.includes(n.status))throw new gt(Ie(n),n.status);let e;try{e=await n.json()}catch(t){throw new as(Ie(t),t)}throw new Xr(Ie(e),n.status||500)}const ti=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function R(n,e,t,s){var r;const i=Object.assign({},s==null?void 0:s.headers);s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const a=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await si(n,e,t+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function si(n,e,t,s,r,i){const a=ti(e,s,r,i);let l;try{l=await n(t,a)}catch(o){throw console.error(o),new gt(Ie(o),0)}if(l.ok||await Mt(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(o){await Mt(o)}}function ie(n){var e;let t=null;ai(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=zr(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function ae(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ri(n){return{data:n,error:null}}function ii(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i}=n,a=Zr(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function ni(n){return n}function ai(n){return n.access_token&&n.refresh_token&&n.expires_in}var oi=globalThis&&globalThis.__rest||function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};class li{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=ns(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ae})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=oi(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ii,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(I(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ae})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,i,a,l,o;try{const c={nextPage:null,lastPage:0,total:0},u=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:ni});if(u.error)throw u.error;const f=await u.json(),d=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(o=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ae})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ae})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ae})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(I(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}}const os="2.57.0",ci="http://localhost:9999",ui="supabase.auth.token",hi={"X-Client-Info":`gotrue-js/${os}`},zt=10,di={getItem:n=>xe()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{xe()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{xe()&&globalThis.localStorage.removeItem(n)}};function Jt(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function fi(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&xe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class gi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}fi();const mi={url:ci,storageKey:ui,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hi,flowType:"implicit",debug:!1},Ce=30*1e3,Bt=3;async function _i(n,e,t){return await t()}class De{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=De.nextInstanceID,De.nextInstanceID+=1,this.instanceID>0&&te()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},mi),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new li({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ns(s.fetch),this.lock=s.lock||_i,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xe()?this.storage=di:(this.memoryStorage={},this.storage=Jt(this.memoryStorage)):(this.memoryStorage={},this.storage=Jt(this.memoryStorage)),te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${os}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=te()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:s}=await this._getSessionFromURL(e);if(s)return this._debug("#_initialize()","error detecting session from URL",s),await this._removeSession(),{error:s};const{session:r,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return I(e)?{error:e}:{error:new as("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,s,r;try{await this._removeSession();let i;if("email"in e){const{email:u,password:f,options:d}=e;let h=null,g=null;if(this.flowType==="pkce"){const m=ye();await de(this.storage,`${this.storageKey}-code-verifier`,m),h=await we(m),g=m===h?"plain":"s256"}i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:g},xform:ie})}else if("phone"in e){const{phone:u,password:f,options:d}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ie})}else throw new He("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const o=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:i,password:a,options:l}=e;t=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ie})}else if("phone"in e){const{phone:i,password:a,options:l}=e;t=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ie})}else throw new He("You must provide either an email or phone number and a password");const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new lt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:{user:s.user,session:s.session},error:r})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Be(this.storage,`${this.storageKey}-code-verifier`),{data:s,error:r}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:ie});return await ot(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new lt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:r})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:s,token:r,access_token:i,nonce:a}=e,l=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ie}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new lt}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,i,a;try{if(await this._removeSession(),"email"in e){const{email:l,options:o}=e;let c=null,u=null;if(this.flowType==="pkce"){const d=ye();await de(this.storage,`${this.storageKey}-code-verifier`,d),c=await we(d),u=d===c?"plain":"s256"}const{error:f}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=o==null?void 0:o.data)!==null&&t!==void 0?t:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:o}=e,{data:c,error:u}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(a=o==null?void 0:o.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new He("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,s;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,i;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:ie});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,c=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{await this._removeSession();let i=null,a=null;if(this.flowType==="pkce"){const l=ye();await de(this.storage,`${this.storageKey}-code-verifier`,l),i=await we(l),a=l===i?"plain":"s256"}return await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ri})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new $e;const{error:r}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:a}=await R(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:a,error:l}=await R(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new He("You must provide either an email or phone number and a type")}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Be(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s)return{data:{session:e},error:null};const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ae}):await this._useSession(async t=>{var s,r;const{data:i,error:a}=t;if(a)throw a;return await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:ae})})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new $e;const a=r.session;let l=null,o=null;if(this.flowType==="pkce"&&e.email!=null){const f=ye();await de(this.storage,`${this.storageKey}-code-verifier`,f),l=await we(f),o=f===l?"plain":"s256"}const{data:c,error:u}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:ae});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return Nt(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $e;const t=Date.now()/1e3;let s=t,r=!0,i=null;const a=Nt(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{session:l,error:o}=await this._callRefreshToken(e.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(e.access_token);if(o)throw o;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(I(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new $e;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!te())throw new Ge("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ge("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ft("Not a valid PKCE flow url.");const t=at(window.location.href);if(e){if(!t.code)throw new Ft("No code detected.");const{data:$,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:$.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Ge(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:l,expires_at:o,token_type:c}=t;if(!i||!l||!a||!c)throw new Ge("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let d=u+f;o&&(d=parseInt(o));const h=d-u;h*1e3<=Ce&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=d-f;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,d,u);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(t){if(I(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=at(window.location.href);return!!(te()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=at(window.location.href),t=await Be(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{error:i};const a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Qr(l)&&(l.status===404||l.status===401)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=Jr(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:i},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;if(this.flowType==="pkce"){const i=ye();await de(this.storage,`${this.storageKey}-code-verifier`,i),s=await we(i),r=i===s?"plain":"s256"}try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Vr(async r=>(await Gr(r*200),this._debug(t,"refreshing attempt",r),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ie})),(r,i,a)=>a&&a.error&&qt(a.error)&&Date.now()+(r+1)*200-s<Ce)}catch(s){if(this._debug(t,"error",s),I(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),te()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Be(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<r+zt;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${zt}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),qt(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qe;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),I(i)){const a={session:null,error:i};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(o){i.push(o)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),de(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ot(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&te()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ce);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Ce);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ce}ms, refresh threshold is ${Bt} ticks`),r<=Bt&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!te()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){const s=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&s.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&s.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const r=ye();await de(this.storage,`${this.storageKey}-code-verifier`,r);const i=await we(r),a=r===i?"plain":"s256";this._debug("PKCE","code verifier",`${r.substring(0,5)}...`,"code challenge",i,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(t!=null&&t.queryParams){const r=new URLSearchParams(t.queryParams);s.push(r.toString())}return`${this.url}/authorize?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const{data:l,error:o}=await R(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],r=s.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:s,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(r.access_token);let l=null;a.aal&&(l=a.aal);let o=l;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:u},error:null}}))}}De.nextInstanceID=0;class pi extends De{constructor(e){super(e)}}var vi=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(f){a(f)}}function o(u){try{c(s.throw(u))}catch(f){a(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const bi={headers:Lr},yi={schema:"public"},wi={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$i={};class ki{constructor(e,t,s){var r,i,a,l,o,c,u,f;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=qr(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:yi,realtime:$i,auth:Object.assign(Object.assign({},wi),{storageKey:h}),global:bi},m=Mr(s??{},g);this.storageKey=(i=(r=m.auth)===null||r===void 0?void 0:r.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(a=m.global)===null||a===void 0?void 0:a.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=Fr(t,this._getAccessToken.bind(this),(u=m.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new yt(`${d}/rest/v1`,{headers:this.headers,schema:(f=m.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ls(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pr(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vi(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,storageKey:i,flowType:a,debug:l},o,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pi({url:this.authUrl,headers:Object.assign(Object.assign({},u),o),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,flowType:a,debug:l,fetch:c})}_initRealtimeClient(e){return new wr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ti=(n,e,t)=>new ki(n,e,t);function Si(n){let e,t,s,r=n[4]?"*":"",i,a,l,o,c,u,f,d,h,g,m=!n[0]&&Ht(n);return{c(){e=k("label"),t=H(n[2]),s=S(),i=H(r),o=S(),c=k("div"),u=k("h3"),m&&m.c(),f=S(),d=k("textarea"),this.h()},l(v){e=T(v,"LABEL",{for:!0,class:!0});var b=A(e);t=G(b,n[2]),s=E(b),i=G(b,r),b.forEach(_),o=E(v),c=T(v,"DIV",{class:!0});var $=A(c);u=T($,"H3",{class:!0});var M=A(u);m&&m.l(M),M.forEach(_),$.forEach(_),f=E(v),d=T(v,"TEXTAREA",{id:!0,rows:!0,name:!0,class:!0}),A(d).forEach(_),this.h()},h(){p(e,"for",a=n[2].toLowerCase()),p(e,"class",l=(n[0]?"font-bold text-surface-on -top-1 -translate-y-full left-0":"font-normal left-3 top-2.5")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute group-hover:-top-1 duration-[400ms] ease-in-out group-hover:-translate-y-full group-hover:left-0 transition-all"),p(u,"class","absolute not-prose pointer-events-none -left-1/2 invisible group-hover:visible group-hover:left-3 group-hover:right-auto text-left top-0 transition-all duration-[400ms] ease-out text-surface-on"),p(c,"class","overflow-hidden w-full h-full absolute pointer-events-none"),p(d,"id","message"),d.required=!0,p(d,"rows","4"),p(d,"name","message"),p(d,"class","w-full h-full px-3 py-3 leading-tight text-surface-on bg-surface/50 border border-primary rounded focus:shadow-glow focus:shadow-tertiary/20 focus:outline-none appearance-none")},m(v,b){y(v,e,b),O(e,t),O(e,s),O(e,i),y(v,o,b),y(v,c,b),O(c,u),m&&m.m(u,null),y(v,f,b),y(v,d,b),Ke(d,n[0]),h||(g=We(d,"input",n[6]),h=!0)},p(v,b){b&4&&re(t,v[2]),b&16&&r!==(r=v[4]?"*":"")&&re(i,r),b&4&&a!==(a=v[2].toLowerCase())&&p(e,"for",a),b&1&&l!==(l=(v[0]?"font-bold text-surface-on -top-1 -translate-y-full left-0":"font-normal left-3 top-2.5")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute group-hover:-top-1 duration-[400ms] ease-in-out group-hover:-translate-y-full group-hover:left-0 transition-all")&&p(e,"class",l),v[0]?m&&(m.d(1),m=null):m?m.p(v,b):(m=Ht(v),m.c(),m.m(u,null)),b&1&&Ke(d,v[0])},d(v){v&&(_(e),_(o),_(c),_(f),_(d)),m&&m.d(),h=!1,g()}}}function Ei(n){let e,t,s,r=n[4]?"*":"",i,a,l,o,c,u,f,d,h,g,m,v=!n[0]&&Gt(n);return{c(){e=k("label"),t=H(n[2]),s=S(),i=H(r),o=S(),c=k("div"),u=k("h3"),v&&v.c(),f=S(),d=k("input"),this.h()},l(b){e=T(b,"LABEL",{for:!0,class:!0});var $=A(e);t=G($,n[2]),s=E($),i=G($,r),$.forEach(_),o=E(b),c=T(b,"DIV",{class:!0});var M=A(c);u=T(M,"H3",{class:!0});var P=A(u);v&&v.l(P),P.forEach(_),M.forEach(_),f=E(b),d=T(b,"INPUT",{name:!0,class:!0}),this.h()},h(){p(e,"for",a=n[2].toLowerCase()),p(e,"class",l=(n[0]?"font-bold text-surface-on -top-1/2 -translate-y-5 left-0":"font-normal left-3 top-1/2")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute -translate-y-1/2 duration-[400ms] ease-in-out group-hover:left-0 group-hover:-top-1/2 group-hover:-translate-y-5 transition-all"),p(u,"class","absolute invisible text-left transition-all duration-[400ms] ease-out -translate-y-1/2 pointer-events-none -left-1/2 group-hover:visible group-hover:left-3 group-hover:right-auto top-1/2 text-surface-on"),p(c,"class","absolute w-full h-full overflow-hidden pointer-events-none"),d.required=n[4],p(d,"name",h=n[2].toLowerCase()),p(d,"class","w-full h-fit px-3 py-3 leading-tight text-surface-on bg-surface/50 border border-primary rounded focus:shadow-glow focus:shadow-tertiary/20 focus:outline-none appearance-none")},m(b,$){y(b,e,$),O(e,t),O(e,s),O(e,i),y(b,o,$),y(b,c,$),O(c,u),v&&v.m(u,null),y(b,f,$),y(b,d,$),Ke(d,n[0]),g||(m=We(d,"input",n[5]),g=!0)},p(b,$){$&4&&re(t,b[2]),$&16&&r!==(r=b[4]?"*":"")&&re(i,r),$&4&&a!==(a=b[2].toLowerCase())&&p(e,"for",a),$&1&&l!==(l=(b[0]?"font-bold text-surface-on -top-1/2 -translate-y-5 left-0":"font-normal left-3 top-1/2")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute -translate-y-1/2 duration-[400ms] ease-in-out group-hover:left-0 group-hover:-top-1/2 group-hover:-translate-y-5 transition-all")&&p(e,"class",l),b[0]?v&&(v.d(1),v=null):v?v.p(b,$):(v=Gt(b),v.c(),v.m(u,null)),$&16&&(d.required=b[4]),$&4&&h!==(h=b[2].toLowerCase())&&p(d,"name",h),$&1&&d.value!==b[0]&&Ke(d,b[0])},d(b){b&&(_(e),_(o),_(c),_(f),_(d)),v&&v.d(),g=!1,m()}}}function Ht(n){let e;return{c(){e=H(n[1])},l(t){e=G(t,n[1])},m(t,s){y(t,e,s)},p(t,s){s&2&&re(e,t[1])},d(t){t&&_(e)}}}function Gt(n){let e;return{c(){e=H(n[1])},l(t){e=G(t,n[1])},m(t,s){y(t,e,s)},p(t,s){s&2&&re(e,t[1])},d(t){t&&_(e)}}}function Oi(n){let e,t;function s(a,l){return a[3]?Si:Ei}let r=s(n),i=r(n);return{c(){e=k("div"),i.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var l=A(e);i.l(l),l.forEach(_),this.h()},h(){p(e,"class",t="relative mb-8 h-fit w-full group overflow-visible mx-1.5 "+(n[3]?"h-full":""))},m(a,l){y(a,e,l),i.m(e,null)},p(a,[l]){r===(r=s(a))&&i?i.p(a,l):(i.d(1),i=r(a),i&&(i.c(),i.m(e,null))),l&8&&t!==(t="relative mb-8 h-fit w-full group overflow-visible mx-1.5 "+(a[3]?"h-full":""))&&p(e,"class",t)},i:me,o:me,d(a){a&&_(e),i.d()}}}function ji(n,e,t){let{value:s}=e,{placeholder:r}=e,{label:i}=e,{textArea:a=!1}=e,{required:l=!1}=e;function o(){s=this.value,t(0,s)}function c(){s=this.value,t(0,s)}return n.$$set=u=>{"value"in u&&t(0,s=u.value),"placeholder"in u&&t(1,r=u.placeholder),"label"in u&&t(2,i=u.label),"textArea"in u&&t(3,a=u.textArea),"required"in u&&t(4,l=u.required)},[s,r,i,a,l,o,c]}class ct extends pe{constructor(e){super(),ve(this,e,ji,Oi,_e,{value:0,placeholder:1,label:2,textArea:3,required:4})}}function Ci(n){let e;return{c(){e=H("Send")},l(t){e=G(t,"Send")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Ai(n){let e,t,s,r,i,a,l,o,c,u,f,d,h,g='<h2 class="title-medium m-0 sm:m-0">Your message has been sent. Thank you for contacting us!</h2>',m,v,b;function $(F){n[4](F)}let M={label:"Name",placeholder:"Elon Gates",required:!0};n[0]!==void 0&&(M.value=n[0]),t=new ct({props:M}),et.push(()=>st(t,"value",$));function P(F){n[5](F)}let z={label:"Email",placeholder:"j.lewis@futi.no",required:!0};n[1]!==void 0&&(z.value=n[1]),i=new ct({props:z}),et.push(()=>st(i,"value",P));function K(F){n[6](F)}let J={label:"Your Message",placeholder:"I want to ask about",required:!0,textArea:!0};return n[2]!==void 0&&(J.value=n[2]),o=new ct({props:J}),et.push(()=>st(o,"value",K)),f=new ue({props:{type:"submit",id:"submit",class:"w-full",$$slots:{default:[Ci]},$$scope:{ctx:n}}}),{c(){e=k("form"),L(t.$$.fragment),r=S(),L(i.$$.fragment),l=S(),L(o.$$.fragment),u=S(),L(f.$$.fragment),d=S(),h=k("div"),h.innerHTML=g,this.h()},l(F){e=T(F,"FORM",{id:!0,class:!0});var w=A(e);D(t.$$.fragment,w),r=E(w),D(i.$$.fragment,w),l=E(w),D(o.$$.fragment,w),u=E(w),D(f.$$.fragment,w),d=E(w),h=T(w,"DIV",{class:!0,"data-svelte-h":!0}),ee(h)!=="svelte-19q5gjd"&&(h.innerHTML=g),w.forEach(_),this.h()},h(){p(h,"class","mx-1.5 text-left self-start"),cs(h,"hidden",!Ii),p(e,"id","contactform"),p(e,"class","flex flex-col gap-8 text-left items-center overflow-x-clip h-full")},m(F,w){y(F,e,w),U(t,e,null),O(e,r),U(i,e,null),O(e,l),U(o,e,null),O(e,u),U(f,e,null),O(e,d),O(e,h),m=!0,v||(b=We(e,"submit",us(n[3])),v=!0)},p(F,[w]){const x={};!s&&w&1&&(s=!0,x.value=F[0],tt(()=>s=!1)),t.$set(x);const q={};!a&&w&2&&(a=!0,q.value=F[1],tt(()=>a=!1)),i.$set(q);const Z={};!c&&w&4&&(c=!0,Z.value=F[2],tt(()=>c=!1)),o.$set(Z);const je={};w&512&&(je.$$scope={dirty:w,ctx:F}),f.$set(je)},i(F){m||(j(t.$$.fragment,F),j(i.$$.fragment,F),j(o.$$.fragment,F),j(f.$$.fragment,F),m=!0)},o(F){C(t.$$.fragment,F),C(i.$$.fragment,F),C(o.$$.fragment,F),C(f.$$.fragment,F),m=!1},d(F){F&&_(e),N(t),N(i),N(o),N(f),v=!1,b()}}}let Ii=!1;function Ri(n,e,t){var s=this&&this.__awaiter||function(f,d,h,g){function m(v){return v instanceof h?v:new h(function(b){b(v)})}return new(h||(h=Promise))(function(v,b){function $(z){try{P(g.next(z))}catch(K){b(K)}}function M(z){try{P(g.throw(z))}catch(K){b(K)}}function P(z){z.done?v(z.value):m(z.value).then($,M)}P((g=g.apply(f,d||[])).next())})};Ti("https://qnzxoapdhdycrblbeovn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuenhvYXBkaGR5Y3JibGJlb3ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTMyNzc4NDQsImV4cCI6MjAwODg1Mzg0NH0.oXm7-RMRSzKw0blIJ99daqwW7vz93Tj2iadXg1m6EEs");let r="",i="",a="";function l(f){return s(this,void 0,void 0,function*(){let d=new FormData(f.target);console.log(d)})}function o(f){r=f,t(0,r)}function c(f){i=f,t(1,i)}function u(f){a=f,t(2,a)}return[r,i,a,l,o,c,u]}class Pi extends pe{constructor(e){super(),ve(this,e,Ri,Ai,_e,{})}}function Vt(n,e,t){const s=n.slice();return s[3]=e[t].day,s[4]=e[t].time,s}function Kt(n,e,t){const s=n.slice();return s[7]=e[t].price,s[8]=e[t].label,s}function Wt(n,e,t){const s=n.slice();return s[11]=e[t].title,s[12]=e[t].body,s[13]=e[t].img,s}function xi(n){let e;return{c(){e=H("CLASS SCHEDULE")},l(t){e=G(t,"CLASS SCHEDULE")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Li(n){let e;return{c(){e=H("CONTACT US")},l(t){e=G(t,"CONTACT US")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Di(n){let e,t="OUR MISSION",s,r,i=`Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.`,a,l,o,c,u,f;return o=new ue({props:{class:"w-full",padding:"px-4 md:px-8 py-4",href:"#classes",$$slots:{default:[xi]},$$scope:{ctx:n}}}),u=new ue({props:{class:"w-full",padding:"px-4 md:px-8 py-4",href:"/contact",$$slots:{default:[Li]},$$scope:{ctx:n}}}),{c(){e=k("h2"),e.textContent=t,s=S(),r=k("p"),r.textContent=i,a=S(),l=k("div"),L(o.$$.fragment),c=S(),L(u.$$.fragment),this.h()},l(d){e=T(d,"H2",{class:!0,style:!0,"data-svelte-h":!0}),ee(e)!=="svelte-jt66xt"&&(e.textContent=t),s=E(d),r=T(d,"P",{class:!0,style:!0,"data-svelte-h":!0}),ee(r)!=="svelte-5zkle4"&&(r.textContent=i),a=E(d),l=T(d,"DIV",{class:!0});var h=A(l);D(o.$$.fragment,h),c=E(h),D(u.$$.fragment,h),h.forEach(_),this.h()},h(){p(e,"class",""),Y(e,"margin","0"),p(r,"class","max-w-3xl"),Y(r,"margin","0"),p(l,"class","grid grid-cols-2 gap-4 md:gap-6 place-items-center w-fit pt-6")},m(d,h){y(d,e,h),y(d,s,h),y(d,r,h),y(d,a,h),y(d,l,h),U(o,l,null),O(l,c),U(u,l,null),f=!0},p(d,h){const g={};h&65536&&(g.$$scope={dirty:h,ctx:d}),o.$set(g);const m={};h&65536&&(m.$$scope={dirty:h,ctx:d}),u.$set(m)},i(d){f||(j(o.$$.fragment,d),j(u.$$.fragment,d),f=!0)},o(d){C(o.$$.fragment,d),C(u.$$.fragment,d),f=!1},d(d){d&&(_(e),_(s),_(r),_(a),_(l)),N(o),N(u)}}}function Ui(n){let e,t;return e=new ze({props:{class:"text-center flex flex-col place-items-center gap-6",sizes:"max-w-none",$$slots:{default:[Di]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,r){const i={};r&65536&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Yt(n){let e,t,s,r,i,a,l=n[11]+"",o,c,u,f=n[12]+"",d,h;return{c(){e=k("div"),t=k("img"),r=S(),i=k("div"),a=k("h2"),o=H(l),c=S(),u=k("p"),d=H(f),h=S(),this.h()},l(g){e=T(g,"DIV",{class:!0});var m=A(e);t=T(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(_),r=E(g),i=T(g,"DIV",{class:!0});var v=A(i);a=T(v,"H2",{class:!0,style:!0});var b=A(a);o=G(b,l),b.forEach(_),c=E(v),u=T(v,"P",{style:!0});var $=A(u);d=G($,f),$.forEach(_),h=E(v),v.forEach(_),this.h()},h(){se(t.src,s=n[13])||p(t,"src",s),p(t,"alt",""),p(t,"class","not-prose w-full h-full aspect-video object-cover object-center"),p(e,"class","w-full max-w-lg md:max-w-none mx-auto h-64 sm:h-96 flex place-items-center"),p(a,"class",""),Y(a,"margin","0"),Y(u,"margin","0"),p(i,"class","flex max-w-xl flex-col gap-4 mb-12 sm:mb-16 md:mb-0")},m(g,m){y(g,e,m),O(e,t),y(g,r,m),y(g,i,m),O(i,a),O(a,o),O(i,c),O(i,u),O(u,d),O(i,h)},p:me,d(g){g&&(_(e),_(r),_(i))}}}function Ni(n){let e,t=oe(n[0]),s=[];for(let r=0;r<t.length;r+=1)s[r]=Yt(Wt(n,t,r));return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Se()},l(r){for(let i=0;i<s.length;i+=1)s[i].l(r);e=Se()},m(r,i){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,i);y(r,e,i)},p(r,i){if(i&1){t=oe(r[0]);let a;for(a=0;a<t.length;a+=1){const l=Wt(r,t,a);s[a]?s[a].p(l,i):(s[a]=Yt(l),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(r){r&&_(e),Ve(s,r)}}}function Fi(n){let e,t;return e=new ze({props:{class:"text-center md:text-left items-start flex flex-col md:grid md:grid-cols-2 md:place-items-center gap-x-12 gap-y-4 sm:gap-y-4 md:gap-y-12",sizes:"max-w-7xl",$$slots:{default:[Ni]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,r){const i={};r&65536&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Xt(n){let e,t=n[7]+"",s,r,i,a=n[8]+"",l;return{c(){e=k("h4"),s=H(t),r=S(),i=k("h4"),l=H(a),this.h()},l(o){e=T(o,"H4",{class:!0,style:!0});var c=A(e);s=G(c,t),c.forEach(_),r=E(o),i=T(o,"H4",{class:!0,style:!0});var u=A(i);l=G(u,a),u.forEach(_),this.h()},h(){p(e,"class","text-left justify-self-start"),Y(e,"margin","0"),p(i,"class","text-right whitespace-nowrap justify-self-end"),Y(i,"margin","0")},m(o,c){y(o,e,c),O(e,s),y(o,r,c),y(o,i,c),O(i,l)},p:me,d(o){o&&(_(e),_(r),_(i))}}}function Qt(n){let e,t=n[3]+"",s,r,i,a=n[4]+"",l;return{c(){e=k("h4"),s=H(t),r=S(),i=k("h4"),l=H(a),this.h()},l(o){e=T(o,"H4",{class:!0,style:!0});var c=A(e);s=G(c,t),c.forEach(_),r=E(o),i=T(o,"H4",{class:!0,style:!0});var u=A(i);l=G(u,a),u.forEach(_),this.h()},h(){p(e,"class","text-left justify-self-start"),Y(e,"margin","0"),p(i,"class","text-right whitespace-nowrap justify-self-end"),Y(i,"margin","0")},m(o,c){y(o,e,c),O(e,s),y(o,r,c),y(o,i,c),O(i,l)},p:me,d(o){o&&(_(e),_(r),_(i))}}}function qi(n){let e;return{c(){e=H("REGISTER")},l(t){e=G(t,"REGISTER")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Mi(n){let e,t;return e=new ue({props:{class:"col-span-2 w-full",$$slots:{default:[qi]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,r){const i={};r&65536&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function zi(n){let e,t,s,r,i,a,l,o,c,u=oe(n[1]),f=[];for(let g=0;g<u.length;g+=1)f[g]=Xt(Kt(n,u,g));let d=oe(n[2]),h=[];for(let g=0;g<d.length;g+=1)h[g]=Qt(Vt(n,d,g));return o=new Ye({props:{size:"lg",class:"w-full col-span-2 self-end",$$slots:{default:[Mi]},$$scope:{ctx:n}}}),{c(){e=k("div");for(let g=0;g<f.length;g+=1)f[g].c();t=S(),s=k("div"),r=S();for(let g=0;g<h.length;g+=1)h[g].c();i=S(),a=k("div"),l=S(),L(o.$$.fragment),this.h()},l(g){e=T(g,"DIV",{class:!0});var m=A(e);for(let v=0;v<f.length;v+=1)f[v].l(m);t=E(m),s=T(m,"DIV",{class:!0}),A(s).forEach(_),r=E(m);for(let v=0;v<h.length;v+=1)h[v].l(m);i=E(m),a=T(m,"DIV",{class:!0}),A(a).forEach(_),l=E(m),D(o.$$.fragment,m),m.forEach(_),this.h()},h(){p(s,"class","pt-4 col-span-2"),p(a,"class","pt-6 col-span-2"),p(e,"class","grid grid-cols-2 gap-y-2 w-full")},m(g,m){y(g,e,m);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(e,null);O(e,t),O(e,s),O(e,r);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(e,null);O(e,i),O(e,a),O(e,l),U(o,e,null),c=!0},p(g,m){if(m&2){u=oe(g[1]);let b;for(b=0;b<u.length;b+=1){const $=Kt(g,u,b);f[b]?f[b].p($,m):(f[b]=Xt($),f[b].c(),f[b].m(e,t))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}if(m&4){d=oe(g[2]);let b;for(b=0;b<d.length;b+=1){const $=Vt(g,d,b);h[b]?h[b].p($,m):(h[b]=Qt($),h[b].c(),h[b].m(e,i))}for(;b<h.length;b+=1)h[b].d(1);h.length=d.length}const v={};m&65536&&(v.$$scope={dirty:m,ctx:g}),o.$set(v)},i(g){c||(j(o.$$.fragment,g),c=!0)},o(g){C(o.$$.fragment,g),c=!1},d(g){g&&_(e),Ve(f,g),Ve(h,g),N(o)}}}function Ji(n){let e,t="ADULT CLASSES",s,r,i,a,l,o;return l=new Ye({props:{size:"sm",class:"w-full",$$slots:{default:[zi]},$$scope:{ctx:n}}}),{c(){e=k("h1"),e.textContent=t,s=S(),r=k("img"),a=S(),L(l.$$.fragment),this.h()},l(c){e=T(c,"H1",{class:!0,style:!0,"data-svelte-h":!0}),ee(e)!=="svelte-pcqv2h"&&(e.textContent=t),s=E(c),r=T(c,"IMG",{class:!0,src:!0,alt:!0}),a=E(c),D(l.$$.fragment,c),this.h()},h(){p(e,"class",""),Y(e,"margin","0"),p(r,"class","not-prose object-cover object-center aspect-[3/4] w-full"),se(r.src,i="/images/MJP_20230927_Mui_Wo_jiu-jitsu_9342.jpg")||p(r,"src",i),p(r,"alt","Adult classes")},m(c,u){y(c,e,u),y(c,s,u),y(c,r,u),y(c,a,u),U(l,c,u),o=!0},p(c,u){const f={};u&65536&&(f.$$scope={dirty:u,ctx:c}),l.$set(f)},i(c){o||(j(l.$$.fragment,c),o=!0)},o(c){C(l.$$.fragment,c),o=!1},d(c){c&&(_(e),_(s),_(r),_(a)),N(l,c)}}}function Bi(n){let e,t="COMING SOON!",s,r,i="SIGN UP IF INTERESTED!";return{c(){e=k("h3"),e.textContent=t,s=S(),r=k("h4"),r.textContent=i,this.h()},l(a){e=T(a,"H3",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-70awxa"&&(e.textContent=t),s=E(a),r=T(a,"H4",{"data-svelte-h":!0}),ee(r)!=="svelte-q8yjrt"&&(r.textContent=i),this.h()},h(){p(e,"class","")},m(a,l){y(a,e,l),y(a,s,l),y(a,r,l)},p:me,d(a){a&&(_(e),_(s),_(r))}}}function Hi(n){let e;return{c(){e=H("REGISTER")},l(t){e=G(t,"REGISTER")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Gi(n){let e,t="YOUTH CLASSES",s,r,i,a,l,o,c,u;return l=new Ye({props:{size:"sm",class:"w-full my-auto",$$slots:{default:[Bi]},$$scope:{ctx:n}}}),c=new ue({props:{class:"col-span-2 w-full place-self-end mt-auto",$$slots:{default:[Hi]},$$scope:{ctx:n}}}),{c(){e=k("h1"),e.textContent=t,s=S(),r=k("img"),a=S(),L(l.$$.fragment),o=S(),L(c.$$.fragment),this.h()},l(f){e=T(f,"H1",{class:!0,style:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1g5anvc"&&(e.textContent=t),s=E(f),r=T(f,"IMG",{class:!0,src:!0,alt:!0}),a=E(f),D(l.$$.fragment,f),o=E(f),D(c.$$.fragment,f),this.h()},h(){p(e,"class",""),Y(e,"margin","0"),p(r,"class","not-prose object-cover object-center aspect-[3/4] w-full"),se(r.src,i="/images/MJP_20230927_Mui_Wo_jiu-jitsu_9376.jpg")||p(r,"src",i),p(r,"alt","Adult classes")},m(f,d){y(f,e,d),y(f,s,d),y(f,r,d),y(f,a,d),U(l,f,d),y(f,o,d),U(c,f,d),u=!0},p(f,d){const h={};d&65536&&(h.$$scope={dirty:d,ctx:f}),l.$set(h);const g={};d&65536&&(g.$$scope={dirty:d,ctx:f}),c.$set(g)},i(f){u||(j(l.$$.fragment,f),j(c.$$.fragment,f),u=!0)},o(f){C(l.$$.fragment,f),C(c.$$.fragment,f),u=!1},d(f){f&&(_(e),_(s),_(r),_(a),_(o)),N(l,f),N(c,f)}}}function Vi(n){let e,t,s,r;return e=new Ot({props:{id:"adult-classes",class:"flex flex-col gap-6 items-center w-full justify-self-end",$$slots:{default:[Ji]},$$scope:{ctx:n}}}),s=new Ot({props:{id:"youth-classes",class:"flex flex-col gap-6 items-center w-full h-full justify-self-start",$$slots:{default:[Gi]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment),t=S(),L(s.$$.fragment)},l(i){D(e.$$.fragment,i),t=E(i),D(s.$$.fragment,i)},m(i,a){U(e,i,a),y(i,t,a),U(s,i,a),r=!0},p(i,a){const l={};a&65536&&(l.$$scope={dirty:a,ctx:i}),e.$set(l);const o={};a&65536&&(o.$$scope={dirty:a,ctx:i}),s.$set(o)},i(i){r||(j(e.$$.fragment,i),j(s.$$.fragment,i),r=!0)},o(i){C(e.$$.fragment,i),C(s.$$.fragment,i),r=!1},d(i){i&&_(t),N(e,i),N(s,i)}}}function Ki(n){let e,t;return e=new ze({props:{class:"grid grid-cols-1 md:grid-cols-2 gap-y-12 items-center ",sizes:"max-w-7xl w-fit",$$slots:{default:[Vi]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,r){const i={};r&65536&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Wi(n){let e,t=`<h2 class="" style="margin:0">GET IN TOUCH, <br/> YOU’LL BE GLAD YOU DID</h2> <p style="margin:0">You’ve had a look at the site. You’re clearly Jiu-Jitsu-curious.
          Whether you’re big, small, young, old, male, female, a beast or a
          nerd, we have a home for you here.</p> <p style="margin:0">info@buffalojiujitsu.hk(+852) 9648 2270 1/F Buffalo Strength GymMui
          Wo, Lantau Island, Hong Kong</p>`,s,r,i,a,l,o;return r=new Pi({}),{c(){e=k("div"),e.innerHTML=t,s=S(),L(r.$$.fragment),i=S(),a=k("img"),this.h()},l(c){e=T(c,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-42e769"&&(e.innerHTML=t),s=E(c),D(r.$$.fragment,c),i=E(c),a=T(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){p(e,"class","flex flex-col gap-8"),se(a.src,l="/images/buffalo_travel_times.jpg")||p(a,"src",l),p(a,"alt","Travel times to Buffalo Jiu-Jitsu"),p(a,"class","object-contain not-prose md:col-span-2 max-w-7xl w-full rounded-sm")},m(c,u){y(c,e,u),y(c,s,u),U(r,c,u),y(c,i,u),y(c,a,u),o=!0},p:me,i(c){o||(j(r.$$.fragment,c),o=!0)},o(c){C(r.$$.fragment,c),o=!1},d(c){c&&(_(e),_(s),_(i),_(a)),N(r,c)}}}function Yi(n){let e,t;return e=new ze({props:{class:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8 items-start",sizes:"max-w-7xl w-full",$$slots:{default:[Wi]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,r){const i={};r&65536&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Xi(n){let e;return{c(){e=H("CONTACT US")},l(t){e=G(t,"CONTACT US")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Qi(n){let e;return{c(){e=H("LEARN MORE")},l(t){e=G(t,"LEARN MORE")},m(t,s){y(t,e,s)},d(t){t&&_(e)}}}function Zi(n){let e,t="WELCOME TO BUFFALO JIU-JITSU",s,r,i='<div class="rounded-full h-44 w-44 md:h-64 md:w-64 lg:h-80 lg:w-80 border-4 -translate-x-12 md:translate-x-6 lg:translate-x-12 border-primary flex items-center justify-center"><h4 class="" style="margin:0">PASSION</h4></div> <div class="rounded-full h-44 w-44 md:h-64 md:w-64 lg:h-80 lg:w-80 -mt-12 border-4 md:mt-0 border-primary flex items-center justify-center"><h4 class="" style="margin:0">COMMUNITY</h4></div> <div class="rounded-full h-44 w-44 md:h-64 md:w-64 lg:h-80 lg:w-80 -mt-12 border-4 translate-x-12 md:mt-0 md:-translate-x-6 lg:-translate-x-12 border-primary flex items-center justify-center"><h4 class="" style="margin:0">AFFORDABILITY</h4></div>',a,l,o,c,u,f;return o=new ue({props:{class:"w-full ",href:"/contact",$$slots:{default:[Xi]},$$scope:{ctx:n}}}),u=new ue({props:{class:"w-full",href:"/about",$$slots:{default:[Qi]},$$scope:{ctx:n}}}),{c(){e=k("h2"),e.textContent=t,s=S(),r=k("div"),r.innerHTML=i,a=S(),l=k("div"),L(o.$$.fragment),c=S(),L(u.$$.fragment),this.h()},l(d){e=T(d,"H2",{class:!0,style:!0,"data-svelte-h":!0}),ee(e)!=="svelte-k1ouuo"&&(e.textContent=t),s=E(d),r=T(d,"DIV",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-1gvxu0r"&&(r.innerHTML=i),a=E(d),l=T(d,"DIV",{class:!0});var h=A(l);D(o.$$.fragment,h),c=E(h),D(u.$$.fragment,h),h.forEach(_),this.h()},h(){p(e,"class","mx-auto"),Y(e,"margin","0"),p(r,"class","flex flex-col md:flex-row items-center justify-center mx-auto w-full"),p(l,"class","grid grid-cols-2 gap-4 md:gap-6 place-items-center w-full max-w-lg pt-12")},m(d,h){y(d,e,h),y(d,s,h),y(d,r,h),y(d,a,h),y(d,l,h),U(o,l,null),O(l,c),U(u,l,null),f=!0},p(d,h){const g={};h&65536&&(g.$$scope={dirty:h,ctx:d}),o.$set(g);const m={};h&65536&&(m.$$scope={dirty:h,ctx:d}),u.$set(m)},i(d){f||(j(o.$$.fragment,d),j(u.$$.fragment,d),f=!0)},o(d){C(o.$$.fragment,d),C(u.$$.fragment,d),f=!1},d(d){d&&(_(e),_(s),_(r),_(a),_(l)),N(o),N(u)}}}function en(n){let e,t,s,r,i,a,l;return a=new ze({props:{class:"grid place-items-center gap-y-12 z-[7]",sizes:"max-w-7xl w-full",margin:"",$$slots:{default:[Zi]},$$scope:{ctx:n}}}),{c(){e=k("img"),s=S(),r=k("div"),i=S(),L(a.$$.fragment),this.h()},l(o){e=T(o,"IMG",{src:!0,alt:!0,class:!0}),s=E(o),r=T(o,"DIV",{class:!0}),A(r).forEach(_),i=E(o),D(a.$$.fragment,o),this.h()},h(){se(e.src,t="/images/MJP_20230927_Mui_Wo_jiu-jitsu_9326.jpg")||p(e,"src",t),p(e,"alt",""),p(e,"class","not-prose w-full h-full absolute object-cover -z-0"),p(r,"class","bg-black/60 w-full h-full absolute z-[5]")},m(o,c){y(o,e,c),y(o,s,c),y(o,r,c),y(o,i,c),U(a,o,c),l=!0},p(o,c){const u={};c&65536&&(u.$$scope={dirty:c,ctx:o}),a.$set(u)},i(o){l||(j(a.$$.fragment,o),l=!0)},o(o){C(a.$$.fragment,o),l=!1},d(o){o&&(_(e),_(s),_(r),_(i)),N(a,o)}}}function tn(n){let e,t,s,r,i,a,l,o,c,u,f,d;return e=new Cs({props:{CTAButtons:{},title:"BUFFALO JIU-JITSU",subtitle:"",justified:"center",bgVideo:"/videos/buffalo_hero_vid_4k.webm",bgCover:"bg-amber-800/60 brightness-[0.1]",parallax:!0}}),s=new ke({props:{class:"-translate-y-36 -mb-36 z-0 rounded-t-[25px] bg-background pt-12 pb-32",$$slots:{default:[Ui]},$$scope:{ctx:n}}}),i=new ke({props:{class:"bg-background py-12",$$slots:{default:[Fi]},$$scope:{ctx:n}}}),l=new ke({props:{class:"bg-background py-24 ",id:"classes",$$slots:{default:[Ki]},$$scope:{ctx:n}}}),c=new ke({props:{class:"bg-background py-24 text-left",$$slots:{default:[Yi]},$$scope:{ctx:n}}}),f=new ke({props:{class:"py-64",$$slots:{default:[en]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment),t=S(),L(s.$$.fragment),r=S(),L(i.$$.fragment),a=S(),L(l.$$.fragment),o=S(),L(c.$$.fragment),u=S(),L(f.$$.fragment)},l(h){D(e.$$.fragment,h),t=E(h),D(s.$$.fragment,h),r=E(h),D(i.$$.fragment,h),a=E(h),D(l.$$.fragment,h),o=E(h),D(c.$$.fragment,h),u=E(h),D(f.$$.fragment,h)},m(h,g){U(e,h,g),y(h,t,g),U(s,h,g),y(h,r,g),U(i,h,g),y(h,a,g),U(l,h,g),y(h,o,g),U(c,h,g),y(h,u,g),U(f,h,g),d=!0},p(h,g){const m={};g&65536&&(m.$$scope={dirty:g,ctx:h}),s.$set(m);const v={};g&65536&&(v.$$scope={dirty:g,ctx:h}),i.$set(v);const b={};g&65536&&(b.$$scope={dirty:g,ctx:h}),l.$set(b);const $={};g&65536&&($.$$scope={dirty:g,ctx:h}),c.$set($);const M={};g&65536&&(M.$$scope={dirty:g,ctx:h}),f.$set(M)},i(h){d||(j(e.$$.fragment,h),j(s.$$.fragment,h),j(i.$$.fragment,h),j(l.$$.fragment,h),j(c.$$.fragment,h),j(f.$$.fragment,h),d=!0)},o(h){C(e.$$.fragment,h),C(s.$$.fragment,h),C(i.$$.fragment,h),C(l.$$.fragment,h),C(c.$$.fragment,h),C(f.$$.fragment,h),d=!1},d(h){h&&(_(t),_(r),_(a),_(o),_(u)),N(e,h),N(s,h),N(i,h),N(l,h),N(c,h),N(f,h)}}}function sn(n){let e,t;return e=new Ye({props:{size:"lg",class:"text-center",$$slots:{default:[tn]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,r){U(e,s,r),t=!0},p(s,[r]){const i={};r&65536&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function rn(n){return[[{title:"NO GI",body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud.",img:"/images/MJP_20230927_Mui_Wo_jiu-jitsu_9172.jpg"},{title:"OUR METHOD",body:"lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ut enim ad minim veniam, quis nostrud.",img:"/images/MJP_20230927_Mui_Wo_jiu-jitsu_9286.jpg"},{title:"THE VISION",body:"lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ut enim ad minim veniam, quis nostrud.",img:"/images/MJP_20230927_Mui_Wo_jiu-jitsu_9288.jpg"}],[{label:"GUEST TRIAL",price:"FREE"},{label:"MONTHLY",price:"$750"},{label:"DAY PASS",price:"$150"}],[{day:"MON",time:"7:45PM"},{day:"WED",time:"7:45PM"},{day:"THURS",time:"7:45PM"}]]}class un extends pe{constructor(e){super(),ve(this,e,rn,sn,_e,{})}}export{un as component};
