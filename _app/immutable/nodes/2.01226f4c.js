import{s as he,e as se,f as re,g as Se,u as Oe,h as Ee,j as je,o as cs,p as us,b as Ke,d as hs,c as Z,n as ne,q as et}from"../chunks/scheduler.ea1de15b.js";import{S as de,i as fe,e as Te,a as w,p as qe,t as O,b as ze,d as S,f as v,g as k,h as T,j as L,k as p,l as V,F as ct,x as j,r as A,u as P,v as R,A as Ye,w as x,s as C,c as I,y as Ne,m as H,n as B,o as ae,G as We,H as tt,E as X,I as ds}from"../chunks/index.3361fb99.js";import{e as ee,P as Xe}from"../chunks/Prose.cd658c13.js";import{B as ue,g as fs,c as St,I as ms}from"../chunks/Inview.svelte_svelte_type_style_lang.05310092.js";import{_ as He}from"../chunks/preload-helper.a4192956.js";function gs(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}function _s(n){let e,t;const s=n[9].default,r=Se(s,n,n[8],null);return{c(){e=k("div"),r&&r.c(),this.h()},l(i){e=T(i,"DIV",{class:!0,id:!0});var a=L(e);r&&r.l(a),a.forEach(v),this.h()},h(){p(e,"class",n[2]),p(e,"id",n[0])},m(i,a){w(i,e,a),r&&r.m(e,null),t=!0},p(i,a){r&&r.p&&(!t||a&256)&&Oe(r,s,i,i[8],t?je(s,i[8],a,null):Ee(i[8]),null),(!t||a&4)&&p(e,"class",i[2]),(!t||a&1)&&p(e,"id",i[0])},i(i){t||(S(r,i),t=!0)},o(i){O(r,i),t=!1},d(i){i&&v(e),r&&r.d(i)}}}function ps(n){let e,t;const s=n[9].default,r=Se(s,n,n[8],null);return{c(){e=k("a"),r&&r.c(),this.h()},l(i){e=T(i,"A",{class:!0,id:!0,href:!0});var a=L(e);r&&r.l(a),a.forEach(v),this.h()},h(){p(e,"class",n[2]),p(e,"id",n[0]),p(e,"href",n[1])},m(i,a){w(i,e,a),r&&r.m(e,null),t=!0},p(i,a){r&&r.p&&(!t||a&256)&&Oe(r,s,i,i[8],t?je(s,i[8],a,null):Ee(i[8]),null),(!t||a&4)&&p(e,"class",i[2]),(!t||a&1)&&p(e,"id",i[0]),(!t||a&2)&&p(e,"href",i[1])},i(i){t||(S(r,i),t=!0)},o(i){O(r,i),t=!1},d(i){i&&v(e),r&&r.d(i)}}}function vs(n){let e,t,s,r;const i=[ps,_s],a=[];function l(o,c){return o[1]?0:1}return e=l(n),t=a[e]=i[e](n),{c(){t.c(),s=Te()},l(o){t.l(o),s=Te()},m(o,c){a[e].m(o,c),w(o,s,c),r=!0},p(o,[c]){let u=e;e=l(o),e===u?a[e].p(o,c):(qe(),O(a[u],1,1,()=>{a[u]=null}),ze(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),S(t,1),t.m(s.parentNode,s))},i(o){r||(S(t),r=!0)},o(o){O(t),r=!1},d(o){o&&v(s),a[e].d(o)}}}function bs(n,e,t){let s,{$$slots:r={},$$scope:i}=e,{id:a=""}=e,{href:l=""}=e,{sizes:o="max-w-7xl w-full"}=e,{border:c=""}=e,{padding:u="sm:px-6 lg:px-8 px-4"}=e,{margin:d="mx-auto"}=e,{shadow:f=""}=e;return n.$$set=h=>{t(10,e=se(se({},e),re(h))),"id"in h&&t(0,a=h.id),"href"in h&&t(1,l=h.href),"sizes"in h&&t(3,o=h.sizes),"border"in h&&t(4,c=h.border),"padding"in h&&t(5,u=h.padding),"margin"in h&&t(6,d=h.margin),"shadow"in h&&t(7,f=h.shadow),"$$scope"in h&&t(8,i=h.$$scope)},n.$$.update=()=>{t(2,s=`${o} ${u} ${d} ${f} ${c} ${e.class} relative`)},e=re(e),[a,l,s,o,c,u,d,f,i,r]}class Ce extends de{constructor(e){super(),fe(this,e,bs,vs,he,{id:0,href:1,sizes:3,border:4,padding:5,margin:6,shadow:7})}}function ys(n){let e,t,s,r;const i=n[10].default,a=Se(i,n,n[9],null);return{c(){e=k("div"),a&&a.c(),this.h()},l(l){e=T(l,"DIV",{class:!0,style:!0,id:!0});var o=L(e);a&&a.l(o),o.forEach(v),this.h()},h(){p(e,"class",n[1]),p(e,"style",t=n[2].style),p(e,"id",s=n[2].id)},m(l,o){w(l,e,o),a&&a.m(e,null),r=!0},p(l,o){a&&a.p&&(!r||o&512)&&Oe(a,i,l,l[9],r?je(i,l[9],o,null):Ee(l[9]),null),(!r||o&2)&&p(e,"class",l[1]),(!r||o&4&&t!==(t=l[2].style))&&p(e,"style",t),(!r||o&4&&s!==(s=l[2].id))&&p(e,"id",s)},i(l){r||(S(a,l),r=!0)},o(l){O(a,l),r=!1},d(l){l&&v(e),a&&a.d(l)}}}function ws(n){let e,t,s,r,i;const a=n[10].default,l=Se(a,n,n[9],null);return{c(){e=k("a"),l&&l.c(),this.h()},l(o){e=T(o,"A",{class:!0,target:!0,href:!0,style:!0,id:!0});var c=L(e);l&&l.l(c),c.forEach(v),this.h()},h(){p(e,"class",n[1]),p(e,"target",t=n[2].target),p(e,"href",n[0]),p(e,"style",s=n[2].style),p(e,"id",r=n[2].id)},m(o,c){w(o,e,c),l&&l.m(e,null),i=!0},p(o,c){l&&l.p&&(!i||c&512)&&Oe(l,a,o,o[9],i?je(a,o[9],c,null):Ee(o[9]),null),(!i||c&2)&&p(e,"class",o[1]),(!i||c&4&&t!==(t=o[2].target))&&p(e,"target",t),(!i||c&1)&&p(e,"href",o[0]),(!i||c&4&&s!==(s=o[2].style))&&p(e,"style",s),(!i||c&4&&r!==(r=o[2].id))&&p(e,"id",r)},i(o){i||(S(l,o),i=!0)},o(o){O(l,o),i=!1},d(o){o&&v(e),l&&l.d(o)}}}function $s(n){let e,t,s,r;const i=[ws,ys],a=[];function l(o,c){return o[0]?0:1}return e=l(n),t=a[e]=i[e](n),{c(){t.c(),s=Te()},l(o){t.l(o),s=Te()},m(o,c){a[e].m(o,c),w(o,s,c),r=!0},p(o,[c]){let u=e;e=l(o),e===u?a[e].p(o,c):(qe(),O(a[u],1,1,()=>{a[u]=null}),ze(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),S(t,1),t.m(s.parentNode,s))},i(o){r||(S(t),r=!0)},o(o){O(t),r=!1},d(o){o&&v(s),a[e].d(o)}}}function ks(n,e,t){let s,{$$slots:r={},$$scope:i}=e,{href:a=""}=e,{size:l="max-w-md"}=e,{border:o=""}=e,{radius:c="rounded-md"}=e,{padding:u=" sm:px-6 lg:px-8 px-4 py-3 sm:py-4 lg:py-6"}=e,{margin:d="mx-auto"}=e,{shadow:f=""}=e;return n.$$set=h=>{t(2,e=se(se({},e),re(h))),"href"in h&&t(0,a=h.href),"size"in h&&t(3,l=h.size),"border"in h&&t(4,o=h.border),"radius"in h&&t(5,c=h.radius),"padding"in h&&t(6,u=h.padding),"margin"in h&&t(7,d=h.margin),"shadow"in h&&t(8,f=h.shadow),"$$scope"in h&&t(9,i=h.$$scope)},n.$$.update=()=>{t(1,s=`${l} ${d}  ${u} ${f} ${o} ${c} ${e.class}`)},e=re(e),[a,s,e,l,o,c,u,d,f,i,r]}class Zt extends de{constructor(e){super(),fe(this,e,ks,$s,he,{href:0,size:3,border:4,radius:5,padding:6,margin:7,shadow:8})}}function Ts(n){let e,t,s,r;const i=n[9].default,a=Se(i,n,n[8],null);return{c(){e=k("section"),a&&a.c(),this.h()},l(l){e=T(l,"SECTION",{class:!0,style:!0,id:!0});var o=L(e);a&&a.l(o),o.forEach(v),this.h()},h(){p(e,"class",n[0]),p(e,"style",t=n[1].style),p(e,"id",s=n[1].id)},m(l,o){w(l,e,o),a&&a.m(e,null),r=!0},p(l,[o]){a&&a.p&&(!r||o&256)&&Oe(a,i,l,l[8],r?je(i,l[8],o,null):Ee(l[8]),null),(!r||o&1)&&p(e,"class",l[0]),(!r||o&2&&t!==(t=l[1].style))&&p(e,"style",t),(!r||o&2&&s!==(s=l[1].id))&&p(e,"id",s)},i(l){r||(S(a,l),r=!0)},o(l){O(a,l),r=!1},d(l){l&&v(e),a&&a.d(l)}}}function Ss(n,e,t){let s,{$$slots:r={},$$scope:i}=e,{background:a=""}=e,{border:l=""}=e,{padding:o=""}=e,{shadow:c=""}=e,{gap:u="gap-6"}=e,{typography:d=""}=e;return n.$$set=f=>{t(1,e=se(se({},e),re(f))),"background"in f&&t(2,a=f.background),"border"in f&&t(3,l=f.border),"padding"in f&&t(4,o=f.padding),"shadow"in f&&t(5,c=f.shadow),"gap"in f&&t(6,u=f.gap),"typography"in f&&t(7,d=f.typography),"$$scope"in f&&t(8,i=f.$$scope)},n.$$.update=()=>{t(0,s=`grid place-items-center relative
   ${a} ${l} ${o} ${c} ${d} ${e.class}`)},e=re(e),[s,e,a,l,o,c,u,d,i,r]}class $e extends de{constructor(e){super(),fe(this,e,Ss,Ts,he,{background:2,border:3,padding:4,shadow:5,gap:6,typography:7})}}function Os(n){let e,t,s,r,i;const a=n[16].default,l=Se(a,n,n[15],null);return{c(){e=k("div"),t=k("div"),l&&l.c(),this.h()},l(o){e=T(o,"DIV",{class:!0,style:!0});var c=L(e);t=T(c,"DIV",{class:!0,style:!0});var u=L(t);l&&l.l(u),u.forEach(v),c.forEach(v),this.h()},h(){var o,c;p(t,"class","transition-all duration-500 h-full w-full"),p(t,"style",s="transition-duration: "+n[3].duration+"ms; transition-delay: "+n[3].delay+"ms; "+(n[2]?"":`transform: translate(${(o=n[3].fly)==null?void 0:o.x}px, ${(c=n[3].fly)==null?void 0:c.y}px)`)),p(e,"class",r=n[4].class+" transition-all delay-200 svelte-vk5d5f"),V(e,"transition-duration",n[3].duration+"ms"),V(e,"transition-delay",n[3].delay+"ms"),ct(e,"fade-in",!n[2]&&!n[0])},m(o,c){w(o,e,c),j(e,t),l&&l.m(t,null),n[17](e),i=!0},p(o,[c]){var u,d;l&&l.p&&(!i||c&32768)&&Oe(l,a,o,o[15],i?je(a,o[15],c,null):Ee(o[15]),null),(!i||c&4&&s!==(s="transition-duration: "+o[3].duration+"ms; transition-delay: "+o[3].delay+"ms; "+(o[2]?"":`transform: translate(${(u=o[3].fly)==null?void 0:u.x}px, ${(d=o[3].fly)==null?void 0:d.y}px)`)))&&p(t,"style",s),(!i||c&16&&r!==(r=o[4].class+" transition-all delay-200 svelte-vk5d5f"))&&p(e,"class",r),(!i||c&21)&&ct(e,"fade-in",!o[2]&&!o[0])},i(o){i||(S(l,o),i=!0)},o(o){O(l,o),i=!1},d(o){o&&v(e),l&&l.d(o),n[17](null)}}}function Es(n,e,t){let{$$slots:s={},$$scope:r}=e,{animation:i=void 0}=e,{dontFade:a=!1}=e,{once:l=void 0}=e,{top:o=void 0}=e,{bottom:c=void 0}=e,{fly:u=void 0}=e,{duration:d=void 0}=e,{delay:f=void 0}=e,{axis:h=void 0}=e,{threshold:g=void 0}=e,b={once:!0,animation:"fade",top:0,bottom:0,delay:100,duration:1e3,fly:{x:0,y:0},axis:"y",threshold:.5},{presetOptions:m=b}=e,_=Object.assign(Object.assign({},b),{once:l,bottom:c,delay:f,duration:d,top:o,fly:u,animation:i,axis:h,threshold:g}),y={top:_.top||m.top||b.top,bottom:_.bottom||m.bottom||b.bottom,once:_.once||m.once||b.once,animation:_.animation||m.animation||b.animation,delay:_.delay||m.delay||b.delay,duration:_.duration||m.duration||b.duration,fly:_.fly||m.fly||b.fly,axis:_.axis||m.axis||b.axis,threshold:_.threshold||m.threshold||b.threshold},D,$,E=!1;const z={rootMargin:`${y.top}px 10000px ${y.bottom}px 10000px`,threshold:y.threshold},U=N=>{N[0].isIntersecting?t(2,E=!0):y.once&&E?$.unobserve(D):!y.once&&E&&t(2,E=!1)};cs(()=>{$=new IntersectionObserver(U,z),$.observe(D)}),us(()=>{});function G(N){Ke[N?"unshift":"push"](()=>{D=N,t(1,D)})}return n.$$set=N=>{t(4,e=se(se({},e),re(N))),"animation"in N&&t(5,i=N.animation),"dontFade"in N&&t(0,a=N.dontFade),"once"in N&&t(6,l=N.once),"top"in N&&t(7,o=N.top),"bottom"in N&&t(8,c=N.bottom),"fly"in N&&t(9,u=N.fly),"duration"in N&&t(10,d=N.duration),"delay"in N&&t(11,f=N.delay),"axis"in N&&t(12,h=N.axis),"threshold"in N&&t(13,g=N.threshold),"presetOptions"in N&&t(14,m=N.presetOptions),"$$scope"in N&&t(15,r=N.$$scope)},e=re(e),[a,D,E,y,e,i,l,o,c,u,d,f,h,g,m,r,s,G]}class te extends de{constructor(e){super(),fe(this,e,Es,Os,he,{animation:5,dontFade:0,once:6,top:7,bottom:8,fly:9,duration:10,delay:11,axis:12,threshold:13,presetOptions:14})}}function Ot(n,e,t){const s=n.slice();return s[15]=e[t][0],s[16]=e[t][1].href,s[17]=e[t][1].highlight,s}function js(n){let e,t;return{c(){e=k("img"),this.h()},l(s){e=T(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Z(e.src,t=n[0])||p(e,"src",t),p(e,"alt",""),p(e,"class","object-cover object-center w-full h-screen max-h-screen mix-blend-darken")},m(s,r){w(s,e,r)},p(s,r){r&1&&!Z(e.src,t=s[0])&&p(e,"src",t)},d(s){s&&v(e)}}}function Cs(n){let e,t,s,r,i,a;return{c(){e=k("video"),t=k("source"),r=k("source"),a=H(`
        Your Browser does not support our video types`),this.h()},l(l){e=T(l,"VIDEO",{id:!0,preload:!0,class:!0});var o=L(e);t=T(o,"SOURCE",{type:!0,title:!0,media:!0,src:!0}),r=T(o,"SOURCE",{type:!0,media:!0,src:!0}),a=B(o,`
        Your Browser does not support our video types`),o.forEach(v),this.h()},h(){p(t,"type","video/webm"),p(t,"title","Hero Video"),p(t,"media","(min-width: 800px)"),Z(t.src,s=n[1].lg)||p(t,"src",s),p(r,"type","video/webm"),p(r,"media","(max-width: 799px)"),Z(r.src,i=n[1].md)||p(r,"src",i),e.muted=!0,p(e,"id","clip"),p(e,"preload","auto"),e.autoplay=!0,e.loop=!0,p(e,"class","object-cover object-center w-full h-screen max-h-screen")},m(l,o){w(l,e,o),j(e,t),j(e,r),j(e,a)},p(l,o){o&2&&!Z(t.src,s=l[1].lg)&&p(t,"src",s),o&2&&!Z(r.src,i=l[1].md)&&p(r,"src",i)},d(l){l&&v(e)}}}function Is(n){let e,t,s,r,i,a;return{c(){e=k("div"),t=k("h1"),s=H(n[4]),r=C(),i=k("h5"),a=H(n[5]),this.h()},l(l){e=T(l,"DIV",{class:!0});var o=L(e);t=T(o,"H1",{class:!0,style:!0});var c=L(t);s=B(c,n[4]),c.forEach(v),r=I(o),i=T(o,"H5",{class:!0,style:!0});var u=L(i);a=B(u,n[5]),u.forEach(v),o.forEach(v),this.h()},h(){p(t,"class",""),V(t,"margin","0px"),p(i,"class","max-w-6xl"),V(i,"margin","0px"),p(e,"class","flex flex-col items-center gap-4 ")},m(l,o){w(l,e,o),j(e,t),j(t,s),j(e,r),j(e,i),j(i,a)},p(l,o){o&16&&ae(s,l[4]),o&32&&ae(a,l[5])},d(l){l&&v(e)}}}function As(n){let e=n[15]+"",t,s;return{c(){t=H(e),s=C()},l(r){t=B(r,e),s=I(r)},m(r,i){w(r,t,i),w(r,s,i)},p(r,i){i&128&&e!==(e=r[15]+"")&&ae(t,e)},d(r){r&&(v(t),v(s))}}}function Et(n){let e,t;return e=new ue({props:{class:"w-full",highlight:n[17],href:n[16],$$slots:{default:[As]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&128&&(i.highlight=s[17]),r&128&&(i.href=s[16]),r&1048704&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Ps(n){let e,t,s,r,i,a,l,o,c,u,d,f,h;function g($,E){return $[1]?Cs:js}let b=g(n),m=b(n);o=new te({props:{class:"w-full h-full",presetOptions:n[8],$$slots:{default:[Is]},$$scope:{ctx:n}}});let _=ee(Object.entries(n[7])),y=[];for(let $=0;$<_.length;$+=1)y[$]=Et(Ot(n,_,$));const D=$=>O(y[$],1,1,()=>{y[$]=null});return{c(){e=k("div"),s=C(),r=k("div"),m.c(),a=C(),l=k("div"),A(o.$$.fragment),c=C(),u=k("div");for(let $=0;$<y.length;$+=1)y[$].c();this.h()},l($){e=T($,"DIV",{class:!0}),L(e).forEach(v),s=I($),r=T($,"DIV",{class:!0});var E=L(r);m.l(E),E.forEach(v),a=I($),l=T($,"DIV",{class:!0});var J=L(l);P(o.$$.fragment,J),c=I(J),u=T(J,"DIV",{class:!0});var z=L(u);for(let U=0;U<y.length;U+=1)y[U].l(z);z.forEach(v),J.forEach(v),this.h()},h(){p(e,"class",t=n[2]+" w-full h-full z-0 absolute"),p(r,"class",i=(n[3]?"fixed":"absolute ")+" w-full h-full not-prose -z-10"),p(u,"class",d="grid grid-cols-"+Object.entries(n[7]).length+" gap-4 md:gap-6 place-items-center w-fit"),p(l,"class",f="flex flex-col w-full z-10 items-center "+n[10]()+" my-auto gap-12 mx-2 sm:mx-4 md:mx-6 "+(n[3]?"fixed":""))},m($,E){w($,e,E),w($,s,E),w($,r,E),m.m(r,null),w($,a,E),w($,l,E),R(o,l,null),j(l,c),j(l,u);for(let J=0;J<y.length;J+=1)y[J]&&y[J].m(u,null);h=!0},p($,E){(!h||E&4&&t!==(t=$[2]+" w-full h-full z-0 absolute"))&&p(e,"class",t),b===(b=g($))&&m?m.p($,E):(m.d(1),m=b($),m&&(m.c(),m.m(r,null))),(!h||E&8&&i!==(i=($[3]?"fixed":"absolute ")+" w-full h-full not-prose -z-10"))&&p(r,"class",i);const J={};if(E&256&&(J.presetOptions=$[8]),E&1048624&&(J.$$scope={dirty:E,ctx:$}),o.$set(J),E&128){_=ee(Object.entries($[7]));let z;for(z=0;z<_.length;z+=1){const U=Ot($,_,z);y[z]?(y[z].p(U,E),S(y[z],1)):(y[z]=Et(U),y[z].c(),S(y[z],1),y[z].m(u,null))}for(qe(),z=_.length;z<y.length;z+=1)D(z);ze()}(!h||E&128&&d!==(d="grid grid-cols-"+Object.entries($[7]).length+" gap-4 md:gap-6 place-items-center w-fit"))&&p(u,"class",d),(!h||E&8&&f!==(f="flex flex-col w-full z-10 items-center "+$[10]()+" my-auto gap-12 mx-2 sm:mx-4 md:mx-6 "+($[3]?"fixed":"")))&&p(l,"class",f)},i($){if(!h){S(o.$$.fragment,$);for(let E=0;E<_.length;E+=1)S(y[E]);h=!0}},o($){O(o.$$.fragment,$),y=y.filter(Boolean);for(let E=0;E<y.length;E+=1)O(y[E]);h=!1},d($){$&&(v(e),v(s),v(r),v(a),v(l)),m.d(),x(o),Ne(y,$)}}}function Rs(n){let e=!1,t=()=>{e=!1},s,r,i,a,l;return hs(n[13]),r=new $e({props:{class:"h-screen w-full z-0 "+n[6],style:n[11].style+" ; clip-path: inset(0 0 0 0);",$$slots:{default:[Ps]},$$scope:{ctx:n}}}),{c(){A(r.$$.fragment)},l(o){P(r.$$.fragment,o)},m(o,c){R(r,o,c),i=!0,a||(l=Ye(window,"scroll",()=>{e=!0,clearTimeout(s),s=setTimeout(t,100),n[13]()}),a=!0)},p(o,[c]){c&512&&!e&&(e=!0,clearTimeout(s),scrollTo(window.pageXOffset,o[9]),s=setTimeout(t,100));const u={};c&64&&(u.class="h-screen w-full z-0 "+o[6]),c&2048&&(u.style=o[11].style+" ; clip-path: inset(0 0 0 0);"),c&1049023&&(u.$$scope={dirty:c,ctx:o}),r.$set(u)},i(o){i||(S(r.$$.fragment,o),i=!0)},o(o){O(r.$$.fragment,o),i=!1},d(o){x(r,o),a=!1,l()}}}function xs(n,e,t){let{bgImg:s=""}=e,{bgVideo:r}=e,{bgCover:i="bg-black/0"}=e,{parallax:a=!1}=e,{title:l="This is a great title for Company Name"}=e,{subtitle:o="This is an even better piece of text. Specifically, this is a subtitle"}=e,{typography:c=""}=e,{CTAButtons:u={"CTA ONE":{href:"/",highlight:!0},"CTA TWO":{href:"/",highlight:!1}}}=e,{inviewPresetOptions:d={delay:0,duration:400}}=e,{justified:f="center"}=e,h=()=>{switch(f){case"left":return"items-start text-left";case"right":return"items-end text-right";case"center":return"items-center text-center"}},g;function b(){t(9,g=window.pageYOffset)}return n.$$set=m=>{t(11,e=se(se({},e),re(m))),"bgImg"in m&&t(0,s=m.bgImg),"bgVideo"in m&&t(1,r=m.bgVideo),"bgCover"in m&&t(2,i=m.bgCover),"parallax"in m&&t(3,a=m.parallax),"title"in m&&t(4,l=m.title),"subtitle"in m&&t(5,o=m.subtitle),"typography"in m&&t(6,c=m.typography),"CTAButtons"in m&&t(7,u=m.CTAButtons),"inviewPresetOptions"in m&&t(8,d=m.inviewPresetOptions),"justified"in m&&t(12,f=m.justified)},n.$$.update=()=>{n.$$.dirty&512},e=re(e),[s,r,i,a,l,o,c,u,d,g,h,e,f,b]}class Ls extends de{constructor(e){super(),fe(this,e,xs,Rs,he,{bgImg:0,bgVideo:1,bgCover:2,parallax:3,title:4,subtitle:5,typography:6,CTAButtons:7,inviewPresetOptions:8,justified:12})}}const Ds=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>He(()=>Promise.resolve().then(()=>Be),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class gt extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Us extends gt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ns extends gt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fs extends gt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ms=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};class qs{constructor(e,{headers:t={},customFetch:s}={}){this.url=e,this.headers=t,this.fetch=Ds(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Ms(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=t;let l={},o;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",o=a):typeof a=="string"?(l["Content-Type"]="text/plain",o=a):typeof FormData<"u"&&a instanceof FormData?o=a:(l["Content-Type"]="application/json",o=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:o}).catch(h=>{throw new Us(h)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new Ns(c);if(!c.ok)throw new Fs(c);let d=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield c.json():d==="application/octet-stream"?f=yield c.blob():d==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var ut={exports:{}};(function(n,e){var t=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof St<"u")return St;throw new Error("unable to locate global object")},s=t();n.exports=e=s.fetch,s.fetch&&(e.default=s.fetch.bind(s)),e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response})(ut,ut.exports);var _t=ut.exports;const pt=fs(_t),Be=gs({__proto__:null,default:pt},[_t]);class zs{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pt:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,o;let c=null,u=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&m&&m.length>1&&(d=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await i.text();try{c=JSON.parse(b),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,h="OK")}catch{i.status===404&&b===""?(f=204,h="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((o=c==null?void 0:c.details)===null||o===void 0)&&o.includes("0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(r=r.catch(i=>{var a,l,o;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=i==null?void 0:i.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}}class Hs extends zs{select(e){let t=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r}={}){const i=r?`${r}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const s=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:s}={}){const r=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${o}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class ke extends Hs{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t}={}){const s=t?`${t}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}}class Bs{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=t,this.schema=s,this.fetch=r}select(e,{head:t=!1,count:s}={}){const r=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new ke({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(a.length>0){const l=[...new Set(a)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new ke({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ke({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new ke({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new ke({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Js="1.8.5",Gs={"X-Client-Info":`postgrest-js/${Js}`};class vt{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gs),t),this.schemaName=s,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Bs(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vt(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,count:r}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;s?(i="HEAD",Object.entries(t).forEach(([c,u])=>{a.searchParams.append(c,`${u}`)})):(i="POST",l=t);const o=Object.assign({},this.headers);return r&&(o.Prefer=`count=${r}`),new ke({method:i,url:a,headers:o,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}var st,jt;function Vs(){if(jt)return st;jt=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return st=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),st}const Ks="websocket",Ws="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Ys=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Xs="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Qs=["IÃ±aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Zs="1.0.34",er={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},tr="https://github.com/theturtle32/WebSocket-Node",sr={node:">=4.0.0"},rr={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ir={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},nr={verbose:!1},ar={test:"tape test/unit/*.js",gulp:"gulp"},or="index",lr={lib:"./lib"},cr="lib/browser.js",ur="Apache-2.0",hr={name:Ks,description:Ws,keywords:Ys,author:Xs,contributors:Qs,version:Zs,repository:er,homepage:tr,engines:sr,dependencies:rr,devDependencies:ir,config:nr,scripts:ar,main:or,directories:lr,browser:cr,license:ur};var dr=hr.version,_e;if(typeof globalThis=="object")_e=globalThis;else try{_e=Vs()}catch{}finally{if(!_e&&typeof window<"u"&&(_e=window),!_e)throw new Error("Could not determine global this")}var Fe=_e.WebSocket||_e.MozWebSocket,fr=dr;function es(n,e){var t;return e?t=new Fe(n,e):t=new Fe(n),t}Fe&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(es,n,{get:function(){return Fe[n]}})});var mr={w3cwebsocket:Fe?es:null,version:fr};const gr="2.8.1",_r={"X-Client-Info":`realtime-js/${gr}`},pr="1.0.0",ts=1e4,vr=1e3;var Le;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Le||(Le={}));var W;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(W||(W={}));var Q;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Q||(Q={}));var ht;(function(n){n.websocket="websocket"})(ht||(ht={}));var pe;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(pe||(pe={}));class ss{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class br{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const l=s.decode(e.slice(a,a+r));a=a+r;const o=s.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class rt{constructor(e,t,s={},r=ts){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ct;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ct||(Ct={}));class De{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=De.syncState(this.state,r,i,a),this.pendingDiffs.forEach(o=>{this.state=De.syncDiff(this.state,o,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=De.syncDiff(this.state,r,i,a),l())}),this.onJoin((r,i,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:a})}),this.onLeave((r,i,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const i=this.cloneDeep(e),a=this.transformState(t),l={},o={};return this.map(i,(c,u)=>{a[c]||(o[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const f=u.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),g=u.filter(m=>h.indexOf(m.presence_ref)<0),b=d.filter(m=>f.indexOf(m.presence_ref)<0);g.length>0&&(l[c]=g),b.length>0&&(o[c]=b)}else l[c]=u}),this.syncDiff(i,{joins:l,leaves:o},s,r)}static syncDiff(e,t,s,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(l,o)=>{var c;const u=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(o),u.length>0){const d=e[l].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[l].unshift(...f)}s(l,u,o)}),this.map(a,(l,o)=>{let c=e[l];if(!c)return;const u=o.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[l]=c,r(l,c,o),c.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(q||(q={}));const It=(n,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,a)=>(i[a]=yr(a,n,e,r),i),{})},yr=(n,e,t,s)=>{const r=e.find(l=>l.name===n),i=r==null?void 0:r.type,a=t[n];return i&&!s.includes(i)?rs(i,a):dt(a)},rs=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Tr(e,t)}switch(n){case q.bool:return wr(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return $r(e);case q.json:case q.jsonb:return kr(e);case q.timestamp:return Sr(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return dt(e);default:return dt(e)}},dt=n=>n,wr=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},$r=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},kr=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Tr=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let i;const a=n.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>rs(e,l))}return n},Sr=n=>typeof n=="string"?n.replace(" ","T"):n;var At;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(At||(At={}));var Pt;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(Pt||(Pt={}));var Rt;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class bt{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=W.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new rt(this,Q.join,this.params,this.timeout),this.rejoinTimer=new ss(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=W.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=W.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Q.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new De(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},o={broadcast:i,presence:a,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,f=(u=d==null?void 0:d.length)!==null&&u!==void 0?u:0,h=[];for(let g=0;g<f;g++){const b=d[g],{filter:{event:m,schema:_,table:y,filter:D}}=b,$=c&&c[g];if($&&$.event===m&&$.schema===_&&$.table===y&&$.filter===D)h.push(Object.assign(Object.assign({},b),{id:$.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{apikey:(s=this.socket.accessToken)!==null&&s!==void 0?s:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,o;const c=this._push(e.type,e,t.timeout||this.timeout);c.rateLimited&&i("rate limited"),e.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=W.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Q.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new rt(this,Q.leave,{},e);r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new rt(this,e,t,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;const a=e.toLocaleLowerCase(),{close:l,error:o,leave:c,join:u}=Q;if(s&&[l,o,c,u].indexOf(a)>=0&&s!==this._joinRef())return;let f=this._onMessage(a,t,s);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var g,b,m;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(b=h.filter)===null||b===void 0?void 0:b.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(h=>h.callback(f,s)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var g,b,m,_,y,D;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const $=h.id,E=(g=h.filter)===null||g===void 0?void 0:g.event;return $&&((b=t.ids)===null||b===void 0?void 0:b.includes($))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const $=(y=(_=h==null?void 0:h.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return $==="*"||$===((D=t==null?void 0:t.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:b,table:m,commit_timestamp:_,type:y,errors:D}=g;f=Object.assign(Object.assign({},{schema:b,table:m,commit_timestamp:_,eventType:y,new:{},old:{},errors:D}),this._getPayloadRecords(g))}h.callback(f,s)})}_isClosed(){return this.state===W.closed}_isJoined(){return this.state===W.joined}_isJoining(){return this.state===W.joining}_isLeaving(){return this.state===W.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&bt.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Q.close,{},e)}_onError(e){this._on(Q.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=W.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=It(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=It(e.columns,e.old_record)),t}}const Or=()=>{};class Er{constructor(e,t){var s,r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=_r,this.params={},this.timeout=ts,this.transport=mr.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Or,this.conn=null,this.sendBuffer=[],this.serializer=new br,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...c)=>He(()=>Promise.resolve().then(()=>Be),void 0,import.meta.url).then(({default:u})=>u(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${e}/${ht.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i));const a=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;a&&(this.accessToken=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(l,o)=>o(JSON.stringify(l)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ss(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Le.connecting:return pe.Connecting;case Le.open:return pe.Open;case Le.closing:return pe.Closing;default:return pe.Closed}}isConnected(){return this.connectionState()===pe.Open}channel(e,t={config:{}}){const s=new bt(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:r,ref:i}=e;let a=()=>{this.encode(e,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};if(this.log("push",`${t} ${s} (${i})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(s)){if(this._throttle(a)())return"rate limited"}else a();else this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Q.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pr}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:r,payload:i,ref:a}=t;(a&&a===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(r,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Q.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(vr,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class yt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class jr extends yt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xt extends yt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Cr=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const is=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>He(()=>Promise.resolve().then(()=>Be),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Ir=()=>Cr(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield He(()=>Promise.resolve().then(()=>Be),void 0,import.meta.url)).Response:Response});var Ie=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const it=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ar=(n,e)=>Ie(void 0,void 0,void 0,function*(){const t=yield Ir();n instanceof t?n.json().then(s=>{e(new jr(it(s),n.status||500))}).catch(s=>{e(new xt(it(s),s))}):e(new xt(it(n),n))}),Pr=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};function Qe(n,e,t,s,r,i){return Ie(this,void 0,void 0,function*(){return new Promise((a,l)=>{n(t,Pr(e,s,r,i)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>Ar(o,l))})})}function ft(n,e,t,s){return Ie(this,void 0,void 0,function*(){return Qe(n,"GET",e,t,s)})}function le(n,e,t,s,r){return Ie(this,void 0,void 0,function*(){return Qe(n,"POST",e,s,r,t)})}function Rr(n,e,t,s,r){return Ie(this,void 0,void 0,function*(){return Qe(n,"PUT",e,s,r,t)})}function ns(n,e,t,s,r){return Ie(this,void 0,void 0,function*(){return Qe(n,"DELETE",e,s,r,t)})}var Y=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const xr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lt={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lr{constructor(e,t={},s,r){this.url=e,this.headers=t,this.bucketId=s,this.fetch=is(r)}uploadOrUpdate(e,t,s,r){return Y(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Lt),r),l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",a.cacheControl)):(i=s,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType);const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return u.ok?{data:{path:o},error:null}:{data:null,error:yield u.json()}}catch(i){if(K(i))return{data:null,error:i};throw i}})}upload(e,t,s){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return Y(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let o;const c=Object.assign({upsert:Lt.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",c.cacheControl)):(o=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:u});return d.ok?{data:{path:i},error:null}:{data:null,error:yield d.json()}}catch(o){if(K(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e){return Y(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const s=yield le(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+s.url),i=r.searchParams.get("token");if(!i)throw new yt("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:i},error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}update(e,t,s){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t){return Y(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}copy(e,t){return Y(this,void 0,void 0,function*(){try{return{data:{path:(yield le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,s){return Y(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield le(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return Y(this,void 0,void 0,function*(){try{const r=yield le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}download(e,t){return Y(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ft(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(K(l))return{data:null,error:l};throw l}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${c}`)}}}remove(e){return Y(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}list(e,t,s){return Y(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},xr),t),{prefix:e||""});return{data:yield le(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Dr="2.5.4",Ur={"X-Client-Info":`storage-js/${Dr}`};var ve=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};class Nr{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ur),t),this.fetch=is(s)}listBuckets(){return ve(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}getBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ve(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return ve(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ve(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}})}}class Fr extends Nr{constructor(e,t={},s){super(e,t,s)}from(e){return new Lr(this.url,this.headers,e,this.fetch)}}const Mr="2.38.2";let Re="";typeof Deno<"u"?Re="deno":typeof document<"u"?Re="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Re="react-native":Re="node";const qr={"X-Client-Info":`supabase-js-${Re}/${Mr}`};var zr=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const Hr=n=>{let e;return n?e=n:typeof fetch>"u"?e=pt:e=fetch,(...t)=>e(...t)},Br=()=>typeof Headers>"u"?_t.Headers:Headers,Jr=(n,e,t)=>{const s=Hr(t),r=Br();return(i,a)=>zr(void 0,void 0,void 0,function*(){var l;const o=(l=yield e())!==null&&l!==void 0?l:n;let c=new r(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),s(i,Object.assign(Object.assign({},a),{headers:c}))})};function Gr(n){return n.replace(/\/$/,"")}function Vr(n,e){const{db:t,auth:s,realtime:r,global:i}=n,{db:a,auth:l,realtime:o,global:c}=e;return{db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},o),r),global:Object.assign(Object.assign({},c),i)}}function Kr(n){return Math.round(Date.now()/1e3)+n}function Wr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ie=()=>typeof document<"u",me={tested:!1,writable:!1},Ue=()=>{if(!ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(me.tested)return me.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),me.tested=!0,me.writable=!0}catch{me.tested=!0,me.writable=!1}return me.writable};function nt(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const as=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>He(()=>Promise.resolve().then(()=>Be),void 0,import.meta.url).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Yr=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ge=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Je=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},at=async(n,e)=>{await n.removeItem(e)};function Xr(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,r,i,a,l,o,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),o=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),s=a<<2|l>>4,r=(l&15)<<4|o>>2,i=(o&3)<<6|c,t=t+String.fromCharCode(s),o!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Ze{constructor(){this.promise=new Ze.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ze.promiseConstructor=Promise;function Dt(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(Xr(s))}async function Qr(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Zr(n,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await n(i);if(!e(i,null,a)){s(a);return}}catch(a){if(!e(i,a)){r(a);return}}})()})}function ei(n){return("0"+n.toString(16)).substr(-2)}function be(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let i=0;i<56;i++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,ei).join("")}async function ti(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function si(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ye(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await ti(n);return si(t)}class wt extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function F(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ri extends wt{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ii(n){return F(n)&&n.name==="AuthApiError"}class os extends wt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ae extends wt{constructor(e,t,s){super(e),this.name=t,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class we extends Ae{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ot extends Ae{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ge extends Ae{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Ve extends Ae{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ut extends Ae{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mt extends Ae{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function Nt(n){return F(n)&&n.name==="AuthRetryableFetchError"}var ni=globalThis&&globalThis.__rest||function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const xe=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ai=[502,503,504];async function Ft(n){if(!Yr(n))throw new mt(xe(n),0);if(ai.includes(n.status))throw new mt(xe(n),n.status);let e;try{e=await n.json()}catch(t){throw new os(xe(t),t)}throw new ri(xe(e),n.status||500)}const oi=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function M(n,e,t,s){var r;const i=Object.assign({},s==null?void 0:s.headers);s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const a=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await li(n,e,t+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function li(n,e,t,s,r,i){const a=oi(e,s,r,i);let l;try{l=await n(t,a)}catch(o){throw console.error(o),new mt(xe(o),0)}if(l.ok||await Ft(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(o){await Ft(o)}}function oe(n){var e;let t=null;di(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Kr(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function ce(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ci(n){return{data:n,error:null}}function ui(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i}=n,a=ni(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function hi(n){return n}function di(n){return n.access_token&&n.refresh_token&&n.expires_in}var fi=globalThis&&globalThis.__rest||function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};class mi{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=as(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ce})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=fi(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ui,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(F(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ce})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,i,a,l,o;try{const c={nextPage:null,lastPage:0,total:0},u=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:hi});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(o=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return h.length>0&&(h.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=b}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ce})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ce})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ce})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(F(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}}}const ls="2.57.0",gi="http://localhost:9999",_i="supabase.auth.token",pi={"X-Client-Info":`gotrue-js/${ls}`},Mt=10,vi={getItem:n=>Ue()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ue()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ue()&&globalThis.localStorage.removeItem(n)}};function qt(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function bi(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&Ue()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class yi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}bi();const wi={url:gi,storageKey:_i,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pi,flowType:"implicit",debug:!1},Pe=30*1e3,zt=3;async function $i(n,e,t){return await t()}class Me{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Me.nextInstanceID,Me.nextInstanceID+=1,this.instanceID>0&&ie()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wi),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=as(s.fetch),this.lock=s.lock||$i,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ue()?this.storage=vi:(this.memoryStorage={},this.storage=qt(this.memoryStorage)):(this.memoryStorage={},this.storage=qt(this.memoryStorage)),ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ls}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=ie()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:s}=await this._getSessionFromURL(e);if(s)return this._debug("#_initialize()","error detecting session from URL",s),await this._removeSession(),{error:s};const{session:r,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return F(e)?{error:e}:{error:new os("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,s,r;try{await this._removeSession();let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,g=null;if(this.flowType==="pkce"){const b=be();await ge(this.storage,`${this.storageKey}-code-verifier`,b),h=await ye(b),g=b===h?"plain":"s256"}i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},xform:oe})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:oe})}else throw new Ge("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const o=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:i,password:a,options:l}=e;t=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oe})}else if("phone"in e){const{phone:i,password:a,options:l}=e;t=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oe})}else throw new Ge("You must provide either an email or phone number and a password");const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ot}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:{user:s.user,session:s.session},error:r})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Je(this.storage,`${this.storageKey}-code-verifier`),{data:s,error:r}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:oe});return await at(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ot}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:r})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:s,token:r,access_token:i,nonce:a}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:oe}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ot}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,i,a;try{if(await this._removeSession(),"email"in e){const{email:l,options:o}=e;let c=null,u=null;if(this.flowType==="pkce"){const f=be();await ge(this.storage,`${this.storageKey}-code-verifier`,f),c=await ye(f),u=f===c?"plain":"s256"}const{error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=o==null?void 0:o.data)!==null&&t!==void 0?t:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:o}=e,{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(a=o==null?void 0:o.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ge("You must provide either an email or phone number.")}catch(l){if(F(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,s;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,i;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:oe});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,c=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{await this._removeSession();let i=null,a=null;if(this.flowType==="pkce"){const l=be();await ge(this.storage,`${this.storageKey}-code-verifier`,l),i=await ye(l),a=l===i?"plain":"s256"}return await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ci})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new we;const{error:r}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:a}=await M(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:a,error:l}=await M(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ge("You must provide either an email or phone number and a type")}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Je(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s)return{data:{session:e},error:null};const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ce}):await this._useSession(async t=>{var s,r;const{data:i,error:a}=t;if(a)throw a;return await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:ce})})}catch(t){if(F(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new we;const a=r.session;let l=null,o=null;if(this.flowType==="pkce"&&e.email!=null){const d=be();await ge(this.storage,`${this.storageKey}-code-verifier`,d),l=await ye(d),o=d===l?"plain":"s256"}const{data:c,error:u}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:ce});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return Dt(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new we;const t=Date.now()/1e3;let s=t,r=!0,i=null;const a=Dt(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{session:l,error:o}=await this._callRefreshToken(e.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:o}=await this._getUser(e.access_token);if(o)throw o;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(F(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new we;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!ie())throw new Ve("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ve("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ut("Not a valid PKCE flow url.");const t=nt(window.location.href);if(e){if(!t.code)throw new Ut("No code detected.");const{data:y,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:y.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Ve(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:l,expires_at:o,token_type:c}=t;if(!i||!l||!a||!c)throw new Ve("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(l);let f=u+d;o&&(f=parseInt(o));const h=f-u;h*1e3<=Pe&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,u);const{data:b,error:m}=await this._getUser(i);if(m)throw m;const _={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(t){if(F(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=nt(window.location.href);return!!(ie()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=nt(window.location.href),t=await Je(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{error:i};const a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(ii(l)&&(l.status===404||l.status===401)))return{error:l}}return e!=="others"&&(await this._removeSession(),await at(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=Wr(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:i},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;if(this.flowType==="pkce"){const i=be();await ge(this.storage,`${this.storageKey}-code-verifier`,i),s=await ye(i),r=i===s?"plain":"s256"}try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Zr(async r=>(await Qr(r*200),this._debug(t,"refreshing attempt",r),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oe})),(r,i,a)=>a&&a.error&&Nt(a.error)&&Date.now()+(r+1)*200-s<Pe)}catch(s){if(this._debug(t,"error",s),F(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),ie()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Je(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<r+Mt;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Mt}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Nt(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new we;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ze;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new we;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),F(i)){const a={session:null,error:i};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(o){i.push(o)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),ge(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await at(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pe);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Pe);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Pe}ms, refresh threshold is ${zt} ticks`),r<=zt&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){const s=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&s.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&s.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const r=be();await ge(this.storage,`${this.storageKey}-code-verifier`,r);const i=await ye(r),a=r===i?"plain":"s256";this._debug("PKCE","code verifier",`${r.substring(0,5)}...`,"code challenge",i,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(t!=null&&t.queryParams){const r=new URLSearchParams(t.queryParams);s.push(r.toString())}return`${this.url}/authorize?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(F(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const{data:l,error:o}=await M(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(F(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(F(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],r=s.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:s,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(r.access_token);let l=null;a.aal&&(l=a.aal);let o=l;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:u},error:null}}))}}Me.nextInstanceID=0;class ki extends Me{constructor(e){super(e)}}var Ti=globalThis&&globalThis.__awaiter||function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):r(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})};const Si={headers:qr},Oi={schema:"public"},Ei={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ji={};class Ci{constructor(e,t,s){var r,i,a,l,o,c,u,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const f=Gr(e);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:Oi,realtime:ji,auth:Object.assign(Object.assign({},Ei),{storageKey:h}),global:Si},b=Vr(s??{},g);this.storageKey=(i=(r=b.auth)===null||r===void 0?void 0:r.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(a=b.global)===null||a===void 0?void 0:a.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((o=b.auth)!==null&&o!==void 0?o:{},this.headers,(c=b.global)===null||c===void 0?void 0:c.fetch),this.fetch=Jr(t,this._getAccessToken.bind(this),(u=b.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new vt(`${f}/rest/v1`,{headers:this.headers,schema:(d=b.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new qs(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fr(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ti(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,storageKey:i,flowType:a,debug:l},o,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ki({url:this.authUrl,headers:Object.assign(Object.assign({},u),o),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,flowType:a,debug:l,fetch:c})}_initRealtimeClient(e){return new Er(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ii=(n,e,t)=>new Ci(n,e,t);function Ai(n){let e,t,s,r=n[4]?"*":"",i,a,l,o,c,u,d,f,h,g,b=!n[0]&&Ht(n);return{c(){e=k("label"),t=H(n[2]),s=C(),i=H(r),o=C(),c=k("div"),u=k("h3"),b&&b.c(),d=C(),f=k("textarea"),this.h()},l(m){e=T(m,"LABEL",{for:!0,class:!0});var _=L(e);t=B(_,n[2]),s=I(_),i=B(_,r),_.forEach(v),o=I(m),c=T(m,"DIV",{class:!0});var y=L(c);u=T(y,"H3",{class:!0});var D=L(u);b&&b.l(D),D.forEach(v),y.forEach(v),d=I(m),f=T(m,"TEXTAREA",{id:!0,rows:!0,name:!0,class:!0}),L(f).forEach(v),this.h()},h(){p(e,"for",a=n[2].toLowerCase()),p(e,"class",l=(n[0]?"font-bold text-surface-on -top-1 -translate-y-full left-0":"font-normal left-3 top-2.5")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute group-hover:-top-1 duration-[400ms] ease-in-out group-hover:-translate-y-full group-hover:left-0 transition-all"),p(u,"class","absolute not-prose pointer-events-none -left-1/2 invisible group-hover:visible group-hover:left-3 group-hover:right-auto text-left top-0 transition-all duration-[400ms] ease-out text-surface-on"),p(c,"class","overflow-hidden w-full h-full absolute pointer-events-none"),p(f,"id","message"),f.required=!0,p(f,"rows","4"),p(f,"name","message"),p(f,"class","w-full h-full px-3 py-3 leading-tight text-surface-on bg-surface/50 border border-primary rounded focus:shadow-glow focus:shadow-tertiary/20 focus:outline-none appearance-none")},m(m,_){w(m,e,_),j(e,t),j(e,s),j(e,i),w(m,o,_),w(m,c,_),j(c,u),b&&b.m(u,null),w(m,d,_),w(m,f,_),We(f,n[0]),h||(g=Ye(f,"input",n[6]),h=!0)},p(m,_){_&4&&ae(t,m[2]),_&16&&r!==(r=m[4]?"*":"")&&ae(i,r),_&4&&a!==(a=m[2].toLowerCase())&&p(e,"for",a),_&1&&l!==(l=(m[0]?"font-bold text-surface-on -top-1 -translate-y-full left-0":"font-normal left-3 top-2.5")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute group-hover:-top-1 duration-[400ms] ease-in-out group-hover:-translate-y-full group-hover:left-0 transition-all")&&p(e,"class",l),m[0]?b&&(b.d(1),b=null):b?b.p(m,_):(b=Ht(m),b.c(),b.m(u,null)),_&1&&We(f,m[0])},d(m){m&&(v(e),v(o),v(c),v(d),v(f)),b&&b.d(),h=!1,g()}}}function Pi(n){let e,t,s,r=n[4]?"*":"",i,a,l,o,c,u,d,f,h,g,b,m=!n[0]&&Bt(n);return{c(){e=k("label"),t=H(n[2]),s=C(),i=H(r),o=C(),c=k("div"),u=k("h3"),m&&m.c(),d=C(),f=k("input"),this.h()},l(_){e=T(_,"LABEL",{for:!0,class:!0});var y=L(e);t=B(y,n[2]),s=I(y),i=B(y,r),y.forEach(v),o=I(_),c=T(_,"DIV",{class:!0});var D=L(c);u=T(D,"H3",{class:!0});var $=L(u);m&&m.l($),$.forEach(v),D.forEach(v),d=I(_),f=T(_,"INPUT",{name:!0,class:!0}),this.h()},h(){p(e,"for",a=n[2].toLowerCase()),p(e,"class",l=(n[0]?"font-bold text-surface-on -top-1/2 -translate-y-5 left-0":"font-normal left-3 top-1/2")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute -translate-y-1/2 duration-[400ms] ease-in-out group-hover:left-0 group-hover:-top-1/2 group-hover:-translate-y-5 transition-all"),p(u,"class","absolute invisible text-left transition-all duration-[400ms] ease-out -translate-y-1/2 pointer-events-none -left-1/2 group-hover:visible group-hover:left-3 group-hover:right-auto top-1/2 text-surface-on"),p(c,"class","absolute w-full h-full overflow-hidden pointer-events-none"),f.required=n[4],p(f,"name",h=n[2].toLowerCase()),p(f,"class","w-full h-fit px-3 py-3 leading-tight text-surface-on bg-surface/50 border border-primary rounded focus:shadow-glow focus:shadow-tertiary/20 focus:outline-none appearance-none")},m(_,y){w(_,e,y),j(e,t),j(e,s),j(e,i),w(_,o,y),w(_,c,y),j(c,u),m&&m.m(u,null),w(_,d,y),w(_,f,y),We(f,n[0]),g||(b=Ye(f,"input",n[5]),g=!0)},p(_,y){y&4&&ae(t,_[2]),y&16&&r!==(r=_[4]?"*":"")&&ae(i,r),y&4&&a!==(a=_[2].toLowerCase())&&p(e,"for",a),y&1&&l!==(l=(_[0]?"font-bold text-surface-on -top-1/2 -translate-y-5 left-0":"font-normal left-3 top-1/2")+" block group-hover:font-bold text-surface-on group-hover:text-surface-on absolute -translate-y-1/2 duration-[400ms] ease-in-out group-hover:left-0 group-hover:-top-1/2 group-hover:-translate-y-5 transition-all")&&p(e,"class",l),_[0]?m&&(m.d(1),m=null):m?m.p(_,y):(m=Bt(_),m.c(),m.m(u,null)),y&16&&(f.required=_[4]),y&4&&h!==(h=_[2].toLowerCase())&&p(f,"name",h),y&1&&f.value!==_[0]&&We(f,_[0])},d(_){_&&(v(e),v(o),v(c),v(d),v(f)),m&&m.d(),g=!1,b()}}}function Ht(n){let e;return{c(){e=H(n[1])},l(t){e=B(t,n[1])},m(t,s){w(t,e,s)},p(t,s){s&2&&ae(e,t[1])},d(t){t&&v(e)}}}function Bt(n){let e;return{c(){e=H(n[1])},l(t){e=B(t,n[1])},m(t,s){w(t,e,s)},p(t,s){s&2&&ae(e,t[1])},d(t){t&&v(e)}}}function Ri(n){let e,t;function s(a,l){return a[3]?Ai:Pi}let r=s(n),i=r(n);return{c(){e=k("div"),i.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var l=L(e);i.l(l),l.forEach(v),this.h()},h(){p(e,"class",t="relative mb-8 h-fit w-full group overflow-visible mx-1.5 "+(n[3]?"h-full":""))},m(a,l){w(a,e,l),i.m(e,null)},p(a,[l]){r===(r=s(a))&&i?i.p(a,l):(i.d(1),i=r(a),i&&(i.c(),i.m(e,null))),l&8&&t!==(t="relative mb-8 h-fit w-full group overflow-visible mx-1.5 "+(a[3]?"h-full":""))&&p(e,"class",t)},i:ne,o:ne,d(a){a&&v(e),i.d()}}}function xi(n,e,t){let{value:s}=e,{placeholder:r}=e,{label:i}=e,{textArea:a=!1}=e,{required:l=!1}=e;function o(){s=this.value,t(0,s)}function c(){s=this.value,t(0,s)}return n.$$set=u=>{"value"in u&&t(0,s=u.value),"placeholder"in u&&t(1,r=u.placeholder),"label"in u&&t(2,i=u.label),"textArea"in u&&t(3,a=u.textArea),"required"in u&&t(4,l=u.required)},[s,r,i,a,l,o,c]}class lt extends de{constructor(e){super(),fe(this,e,xi,Ri,he,{value:0,placeholder:1,label:2,textArea:3,required:4})}}function Li(n){let e;return{c(){e=H("Send")},l(t){e=B(t,"Send")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function Di(n){let e,t,s,r,i,a,l,o,c,u,d,f,h,g='<h2 class="title-medium m-0 sm:m-0">Your message has been sent. Thank you for contacting us!</h2>',b,m,_;function y(U){n[4](U)}let D={label:"Name",placeholder:"Elon Gates",required:!0};n[0]!==void 0&&(D.value=n[0]),t=new lt({props:D}),Ke.push(()=>tt(t,"value",y));function $(U){n[5](U)}let E={label:"Email",placeholder:"j.lewis@futi.no",required:!0};n[1]!==void 0&&(E.value=n[1]),i=new lt({props:E}),Ke.push(()=>tt(i,"value",$));function J(U){n[6](U)}let z={label:"Your Message",placeholder:"I want to ask about",required:!0,textArea:!0};return n[2]!==void 0&&(z.value=n[2]),o=new lt({props:z}),Ke.push(()=>tt(o,"value",J)),d=new ue({props:{type:"submit",id:"submit",class:"w-full",$$slots:{default:[Li]},$$scope:{ctx:n}}}),{c(){e=k("form"),A(t.$$.fragment),r=C(),A(i.$$.fragment),l=C(),A(o.$$.fragment),u=C(),A(d.$$.fragment),f=C(),h=k("div"),h.innerHTML=g,this.h()},l(U){e=T(U,"FORM",{id:!0,class:!0});var G=L(e);P(t.$$.fragment,G),r=I(G),P(i.$$.fragment,G),l=I(G),P(o.$$.fragment,G),u=I(G),P(d.$$.fragment,G),f=I(G),h=T(G,"DIV",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-19q5gjd"&&(h.innerHTML=g),G.forEach(v),this.h()},h(){p(h,"class","mx-1.5 text-left self-start"),ct(h,"hidden",!Ui),p(e,"id","contactform"),p(e,"class","flex flex-col gap-8 text-left items-center overflow-x-clip h-full")},m(U,G){w(U,e,G),R(t,e,null),j(e,r),R(i,e,null),j(e,l),R(o,e,null),j(e,u),R(d,e,null),j(e,f),j(e,h),b=!0,m||(_=Ye(e,"submit",ds(n[3])),m=!0)},p(U,[G]){const N={};!s&&G&1&&(s=!0,N.value=U[0],et(()=>s=!1)),t.$set(N);const $t={};!a&&G&2&&(a=!0,$t.value=U[1],et(()=>a=!1)),i.$set($t);const kt={};!c&&G&4&&(c=!0,kt.value=U[2],et(()=>c=!1)),o.$set(kt);const Tt={};G&512&&(Tt.$$scope={dirty:G,ctx:U}),d.$set(Tt)},i(U){b||(S(t.$$.fragment,U),S(i.$$.fragment,U),S(o.$$.fragment,U),S(d.$$.fragment,U),b=!0)},o(U){O(t.$$.fragment,U),O(i.$$.fragment,U),O(o.$$.fragment,U),O(d.$$.fragment,U),b=!1},d(U){U&&v(e),x(t),x(i),x(o),x(d),m=!1,_()}}}let Ui=!1;function Ni(n,e,t){var s=this&&this.__awaiter||function(d,f,h,g){function b(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function y(E){try{$(g.next(E))}catch(J){_(J)}}function D(E){try{$(g.throw(E))}catch(J){_(J)}}function $(E){E.done?m(E.value):b(E.value).then(y,D)}$((g=g.apply(d,f||[])).next())})};Ii("https://qnzxoapdhdycrblbeovn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuenhvYXBkaGR5Y3JibGJlb3ZuIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTMyNzc4NDQsImV4cCI6MjAwODg1Mzg0NH0.oXm7-RMRSzKw0blIJ99daqwW7vz93Tj2iadXg1m6EEs");let r="",i="",a="";function l(d){return s(this,void 0,void 0,function*(){let f=new FormData(d.target);console.log(f)})}function o(d){r=d,t(0,r)}function c(d){i=d,t(1,i)}function u(d){a=d,t(2,a)}return[r,i,a,l,o,c,u]}class Fi extends de{constructor(e){super(),fe(this,e,Ni,Di,he,{})}}function Jt(n,e,t){const s=n.slice();return s[8]=e[t].href,s[9]=e[t].icon,s}function Gt(n,e,t){const s=n.slice();return s[12]=e[t].day,s[13]=e[t].time,s}function Vt(n,e,t){const s=n.slice();return s[16]=e[t].price,s[17]=e[t].label,s}function Kt(n,e,t){const s=n.slice();return s[20]=e[t].title,s[21]=e[t].body,s[22]=e[t].img,s}function Mi(n){let e;return{c(){e=H("CLASS SCHEDULE")},l(t){e=B(t,"CLASS SCHEDULE")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function qi(n){let e;return{c(){e=H("CONTACT US")},l(t){e=B(t,"CONTACT US")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function zi(n){let e,t="OUR MISSION",s,r,i=`Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
          minim veniam, quis nostrud exercitation ullamco laboris nisi ut
          aliquip ex ea commodo consequat.`,a,l,o,c,u,d;return o=new ue({props:{class:"w-full",padding:"px-4 md:px-8 py-4",href:"#classes",$$slots:{default:[Mi]},$$scope:{ctx:n}}}),u=new ue({props:{class:"w-full",padding:"px-4 md:px-8 py-4",href:"/contact",$$slots:{default:[qi]},$$scope:{ctx:n}}}),{c(){e=k("h2"),e.textContent=t,s=C(),r=k("p"),r.textContent=i,a=C(),l=k("div"),A(o.$$.fragment),c=C(),A(u.$$.fragment),this.h()},l(f){e=T(f,"H2",{class:!0,style:!0,"data-svelte-h":!0}),X(e)!=="svelte-jt66xt"&&(e.textContent=t),s=I(f),r=T(f,"P",{class:!0,style:!0,"data-svelte-h":!0}),X(r)!=="svelte-xijlms"&&(r.textContent=i),a=I(f),l=T(f,"DIV",{class:!0});var h=L(l);P(o.$$.fragment,h),c=I(h),P(u.$$.fragment,h),h.forEach(v),this.h()},h(){p(e,"class",""),V(e,"margin","0"),p(r,"class","max-w-3xl"),V(r,"margin","0"),p(l,"class","grid grid-cols-2 gap-4 md:gap-6 place-items-center w-fit pt-6")},m(f,h){w(f,e,h),w(f,s,h),w(f,r,h),w(f,a,h),w(f,l,h),R(o,l,null),j(l,c),R(u,l,null),d=!0},p(f,h){const g={};h&33554432&&(g.$$scope={dirty:h,ctx:f}),o.$set(g);const b={};h&33554432&&(b.$$scope={dirty:h,ctx:f}),u.$set(b)},i(f){d||(S(o.$$.fragment,f),S(u.$$.fragment,f),d=!0)},o(f){O(o.$$.fragment,f),O(u.$$.fragment,f),d=!1},d(f){f&&(v(e),v(s),v(r),v(a),v(l)),x(o),x(u)}}}function Hi(n){let e,t;return e=new Ce({props:{class:"text-center flex flex-col place-items-center gap-6",sizes:"max-w-none",$$slots:{default:[zi]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Bi(n){let e,t;return e=new te({props:{presetOptions:n[4],delay:100,$$slots:{default:[Hi]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Ji(n){let e,t,s;return{c(){e=k("div"),t=k("img"),this.h()},l(r){e=T(r,"DIV",{class:!0});var i=L(e);t=T(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(v),this.h()},h(){Z(t.src,s=n[22])||p(t,"src",s),p(t,"alt",""),p(t,"class","not-prose w-full h-full aspect-video object-cover object-center"),p(e,"class","w-full max-w-lg md:max-w-none mx-auto h-64 sm:h-96 flex place-items-center")},m(r,i){w(r,e,i),j(e,t)},p:ne,d(r){r&&v(e)}}}function Gi(n){let e,t,s=n[20]+"",r,i,a,l=n[21]+"",o,c;return{c(){e=k("div"),t=k("h2"),r=H(s),i=C(),a=k("p"),o=H(l),c=C(),this.h()},l(u){e=T(u,"DIV",{class:!0});var d=L(e);t=T(d,"H2",{class:!0,style:!0});var f=L(t);r=B(f,s),f.forEach(v),i=I(d),a=T(d,"P",{style:!0});var h=L(a);o=B(h,l),h.forEach(v),d.forEach(v),c=I(u),this.h()},h(){p(t,"class",""),V(t,"margin","0"),V(a,"margin","0"),p(e,"class","flex max-w-xl flex-col gap-4 mb-12 sm:mb-16 md:mb-0")},m(u,d){w(u,e,d),j(e,t),j(t,r),j(e,i),j(e,a),j(a,o),w(u,c,d)},p:ne,d(u){u&&(v(e),v(c))}}}function Wt(n){let e,t,s,r;return e=new te({props:{presetOptions:n[6],class:"w-full h-full",$$slots:{default:[Ji]},$$scope:{ctx:n}}}),s=new te({props:{presetOptions:n[7],$$slots:{default:[Gi]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),t=C(),A(s.$$.fragment)},l(i){P(e.$$.fragment,i),t=I(i),P(s.$$.fragment,i)},m(i,a){R(e,i,a),w(i,t,a),R(s,i,a),r=!0},p(i,a){const l={};a&33554432&&(l.$$scope={dirty:a,ctx:i}),e.$set(l);const o={};a&33554432&&(o.$$scope={dirty:a,ctx:i}),s.$set(o)},i(i){r||(S(e.$$.fragment,i),S(s.$$.fragment,i),r=!0)},o(i){O(e.$$.fragment,i),O(s.$$.fragment,i),r=!1},d(i){i&&v(t),x(e,i),x(s,i)}}}function Vi(n){let e,t,s=ee(n[1]),r=[];for(let a=0;a<s.length;a+=1)r[a]=Wt(Kt(n,s,a));const i=a=>O(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=Te()},l(a){for(let l=0;l<r.length;l+=1)r[l].l(a);e=Te()},m(a,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(a,l);w(a,e,l),t=!0},p(a,l){if(l&194){s=ee(a[1]);let o;for(o=0;o<s.length;o+=1){const c=Kt(a,s,o);r[o]?(r[o].p(c,l),S(r[o],1)):(r[o]=Wt(c),r[o].c(),S(r[o],1),r[o].m(e.parentNode,e))}for(qe(),o=s.length;o<r.length;o+=1)i(o);ze()}},i(a){if(!t){for(let l=0;l<s.length;l+=1)S(r[l]);t=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)O(r[l]);t=!1},d(a){a&&v(e),Ne(r,a)}}}function Ki(n){let e,t;return e=new Ce({props:{class:"text-center md:text-left items-start flex flex-col md:grid md:grid-cols-2 md:place-items-center gap-x-12 gap-y-4 sm:gap-y-4 md:gap-y-12",sizes:"max-w-7xl",$$slots:{default:[Vi]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Yt(n){let e,t=n[16]+"",s,r,i,a=n[17]+"",l;return{c(){e=k("h4"),s=H(t),r=C(),i=k("h4"),l=H(a),this.h()},l(o){e=T(o,"H4",{class:!0,style:!0});var c=L(e);s=B(c,t),c.forEach(v),r=I(o),i=T(o,"H4",{class:!0,style:!0});var u=L(i);l=B(u,a),u.forEach(v),this.h()},h(){p(e,"class","text-left justify-self-start"),V(e,"margin","0"),p(i,"class","text-right whitespace-nowrap justify-self-end"),V(i,"margin","0")},m(o,c){w(o,e,c),j(e,s),w(o,r,c),w(o,i,c),j(i,l)},p:ne,d(o){o&&(v(e),v(r),v(i))}}}function Xt(n){let e,t=n[12]+"",s,r,i,a=n[13]+"",l;return{c(){e=k("h4"),s=H(t),r=C(),i=k("h4"),l=H(a),this.h()},l(o){e=T(o,"H4",{class:!0,style:!0});var c=L(e);s=B(c,t),c.forEach(v),r=I(o),i=T(o,"H4",{class:!0,style:!0});var u=L(i);l=B(u,a),u.forEach(v),this.h()},h(){p(e,"class","text-left justify-self-start"),V(e,"margin","0"),p(i,"class","text-right whitespace-nowrap justify-self-end"),V(i,"margin","0")},m(o,c){w(o,e,c),j(e,s),w(o,r,c),w(o,i,c),j(i,l)},p:ne,d(o){o&&(v(e),v(r),v(i))}}}function Wi(n){let e;return{c(){e=H("REGISTER")},l(t){e=B(t,"REGISTER")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function Yi(n){let e,t;return e=new ue({props:{class:"col-span-2 w-full",$$slots:{default:[Wi]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Xi(n){let e,t,s,r,i,a,l,o,c,u=ee(n[2]),d=[];for(let g=0;g<u.length;g+=1)d[g]=Yt(Vt(n,u,g));let f=ee(n[3]),h=[];for(let g=0;g<f.length;g+=1)h[g]=Xt(Gt(n,f,g));return o=new Xe({props:{size:"lg",class:"w-full col-span-2 self-end",$$slots:{default:[Yi]},$$scope:{ctx:n}}}),{c(){e=k("div");for(let g=0;g<d.length;g+=1)d[g].c();t=C(),s=k("div"),r=C();for(let g=0;g<h.length;g+=1)h[g].c();i=C(),a=k("div"),l=C(),A(o.$$.fragment),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=L(e);for(let m=0;m<d.length;m+=1)d[m].l(b);t=I(b),s=T(b,"DIV",{class:!0}),L(s).forEach(v),r=I(b);for(let m=0;m<h.length;m+=1)h[m].l(b);i=I(b),a=T(b,"DIV",{class:!0}),L(a).forEach(v),l=I(b),P(o.$$.fragment,b),b.forEach(v),this.h()},h(){p(s,"class","pt-4 col-span-2"),p(a,"class","pt-6 col-span-2"),p(e,"class","grid grid-cols-2 gap-y-2 w-full")},m(g,b){w(g,e,b);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(e,null);j(e,t),j(e,s),j(e,r);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(e,null);j(e,i),j(e,a),j(e,l),R(o,e,null),c=!0},p(g,b){if(b&4){u=ee(g[2]);let _;for(_=0;_<u.length;_+=1){const y=Vt(g,u,_);d[_]?d[_].p(y,b):(d[_]=Yt(y),d[_].c(),d[_].m(e,t))}for(;_<d.length;_+=1)d[_].d(1);d.length=u.length}if(b&8){f=ee(g[3]);let _;for(_=0;_<f.length;_+=1){const y=Gt(g,f,_);h[_]?h[_].p(y,b):(h[_]=Xt(y),h[_].c(),h[_].m(e,i))}for(;_<h.length;_+=1)h[_].d(1);h.length=f.length}const m={};b&33554432&&(m.$$scope={dirty:b,ctx:g}),o.$set(m)},i(g){c||(S(o.$$.fragment,g),c=!0)},o(g){O(o.$$.fragment,g),c=!1},d(g){g&&v(e),Ne(d,g),Ne(h,g),x(o)}}}function Qi(n){let e,t="ADULT CLASSES",s,r,i,a,l,o;return l=new Xe({props:{size:"sm",class:"w-full",$$slots:{default:[Xi]},$$scope:{ctx:n}}}),{c(){e=k("h1"),e.textContent=t,s=C(),r=k("img"),a=C(),A(l.$$.fragment),this.h()},l(c){e=T(c,"H1",{class:!0,style:!0,"data-svelte-h":!0}),X(e)!=="svelte-pcqv2h"&&(e.textContent=t),s=I(c),r=T(c,"IMG",{class:!0,src:!0,alt:!0}),a=I(c),P(l.$$.fragment,c),this.h()},h(){p(e,"class",""),V(e,"margin","0"),p(r,"class","not-prose object-cover object-center aspect-[3/4] w-full"),Z(r.src,i="/images/MJP_20230927_Mui_Wo_jiu-jitsu_9342.jpg")||p(r,"src",i),p(r,"alt","Adult classes")},m(c,u){w(c,e,u),w(c,s,u),w(c,r,u),w(c,a,u),R(l,c,u),o=!0},p(c,u){const d={};u&33554432&&(d.$$scope={dirty:u,ctx:c}),l.$set(d)},i(c){o||(S(l.$$.fragment,c),o=!0)},o(c){O(l.$$.fragment,c),o=!1},d(c){c&&(v(e),v(s),v(r),v(a)),x(l,c)}}}function Zi(n){let e,t;return e=new Zt({props:{id:"adult-classes",class:"flex flex-col gap-6 items-center w-full justify-self-end",$$slots:{default:[Qi]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function en(n){let e,t="COMING SOON!",s,r,i="SIGN UP IF INTERESTED!";return{c(){e=k("h3"),e.textContent=t,s=C(),r=k("h4"),r.textContent=i,this.h()},l(a){e=T(a,"H3",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-70awxa"&&(e.textContent=t),s=I(a),r=T(a,"H4",{"data-svelte-h":!0}),X(r)!=="svelte-q8yjrt"&&(r.textContent=i),this.h()},h(){p(e,"class","")},m(a,l){w(a,e,l),w(a,s,l),w(a,r,l)},p:ne,d(a){a&&(v(e),v(s),v(r))}}}function tn(n){let e;return{c(){e=H("REGISTER")},l(t){e=B(t,"REGISTER")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function sn(n){let e,t="YOUTH CLASSES",s,r,i,a,l,o,c,u;return l=new Xe({props:{size:"sm",class:"w-full my-auto",$$slots:{default:[en]},$$scope:{ctx:n}}}),c=new ue({props:{class:"col-span-2 w-full place-self-end mt-auto",$$slots:{default:[tn]},$$scope:{ctx:n}}}),{c(){e=k("h1"),e.textContent=t,s=C(),r=k("img"),a=C(),A(l.$$.fragment),o=C(),A(c.$$.fragment),this.h()},l(d){e=T(d,"H1",{class:!0,style:!0,"data-svelte-h":!0}),X(e)!=="svelte-1g5anvc"&&(e.textContent=t),s=I(d),r=T(d,"IMG",{class:!0,src:!0,alt:!0}),a=I(d),P(l.$$.fragment,d),o=I(d),P(c.$$.fragment,d),this.h()},h(){p(e,"class",""),V(e,"margin","0"),p(r,"class","not-prose object-cover object-center aspect-[3/4] w-full"),Z(r.src,i="/images/MJP_20230927_Mui_Wo_jiu-jitsu_9376.jpg")||p(r,"src",i),p(r,"alt","Adult classes")},m(d,f){w(d,e,f),w(d,s,f),w(d,r,f),w(d,a,f),R(l,d,f),w(d,o,f),R(c,d,f),u=!0},p(d,f){const h={};f&33554432&&(h.$$scope={dirty:f,ctx:d}),l.$set(h);const g={};f&33554432&&(g.$$scope={dirty:f,ctx:d}),c.$set(g)},i(d){u||(S(l.$$.fragment,d),S(c.$$.fragment,d),u=!0)},o(d){O(l.$$.fragment,d),O(c.$$.fragment,d),u=!1},d(d){d&&(v(e),v(s),v(r),v(a),v(o)),x(l,d),x(c,d)}}}function rn(n){let e,t;return e=new Zt({props:{id:"youth-classes",class:"flex flex-col gap-6 items-center w-full h-full justify-self-start",$$slots:{default:[sn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function nn(n){let e,t,s,r;return e=new te({props:{presetOptions:n[5],class:"w-full h-full",$$slots:{default:[Zi]},$$scope:{ctx:n}}}),s=new te({props:{presetOptions:n[5],class:"w-full h-full",$$slots:{default:[rn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),t=C(),A(s.$$.fragment)},l(i){P(e.$$.fragment,i),t=I(i),P(s.$$.fragment,i)},m(i,a){R(e,i,a),w(i,t,a),R(s,i,a),r=!0},p(i,a){const l={};a&33554432&&(l.$$scope={dirty:a,ctx:i}),e.$set(l);const o={};a&33554432&&(o.$$scope={dirty:a,ctx:i}),s.$set(o)},i(i){r||(S(e.$$.fragment,i),S(s.$$.fragment,i),r=!0)},o(i){O(e.$$.fragment,i),O(s.$$.fragment,i),r=!1},d(i){i&&v(t),x(e,i),x(s,i)}}}function an(n){let e,t;return e=new Ce({props:{class:"grid grid-cols-1 md:grid-cols-2 gap-y-12 items-center ",sizes:"max-w-7xl w-fit",$$slots:{default:[nn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Qt(n){let e,t,s,r;return t=new ms({props:{icon:n[9],height:"32",width:"32"}}),{c(){e=k("a"),A(t.$$.fragment),s=C(),this.h()},l(i){e=T(i,"A",{href:!0,target:!0,class:!0});var a=L(e);P(t.$$.fragment,a),s=I(a),a.forEach(v),this.h()},h(){p(e,"href",n[8]),p(e,"target","new"),p(e,"class","")},m(i,a){w(i,e,a),R(t,e,null),j(e,s),r=!0},p:ne,i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){O(t.$$.fragment,i),r=!1},d(i){i&&v(e),x(t)}}}function on(n){let e,t,s="GET IN TOUCH, <br/> YOUâLL BE GLAD YOU DID",r,i,a=`Youâve had a look at the site. Youâre clearly Jiu-Jitsu-curious.
            Whether youâre big, small, young, old, male, female, a beast or a
            nerd, we have a home for you here.`,l,o,c=`info@buffalojiujitsu.hk <br/> (+852) 9648 2270 <br/> <br/> 1/F
            Buffalo Strength Gym <br/> Mui Wo, Lantau Island, Hong Kong`,u,d,f,h=ee(n[0]),g=[];for(let m=0;m<h.length;m+=1)g[m]=Qt(Jt(n,h,m));const b=m=>O(g[m],1,1,()=>{g[m]=null});return{c(){e=k("div"),t=k("h2"),t.innerHTML=s,r=C(),i=k("p"),i.textContent=a,l=C(),o=k("p"),o.innerHTML=c,u=C(),d=k("div");for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){e=T(m,"DIV",{class:!0});var _=L(e);t=T(_,"H2",{class:!0,style:!0,"data-svelte-h":!0}),X(t)!=="svelte-18gah2z"&&(t.innerHTML=s),r=I(_),i=T(_,"P",{style:!0,"data-svelte-h":!0}),X(i)!=="svelte-1v6iiz7"&&(i.textContent=a),l=I(_),o=T(_,"P",{style:!0,"data-svelte-h":!0}),X(o)!=="svelte-rfzqct"&&(o.innerHTML=c),u=I(_),d=T(_,"DIV",{class:!0});var y=L(d);for(let D=0;D<g.length;D+=1)g[D].l(y);y.forEach(v),_.forEach(v),this.h()},h(){p(t,"class",""),V(t,"margin","0"),V(i,"margin","0"),V(o,"margin","0"),p(d,"class","flex flex-row gap-4 text-primary not-prose"),p(e,"class","flex flex-col gap-8")},m(m,_){w(m,e,_),j(e,t),j(e,r),j(e,i),j(e,l),j(e,o),j(e,u),j(e,d);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(d,null);f=!0},p(m,_){if(_&1){h=ee(m[0]);let y;for(y=0;y<h.length;y+=1){const D=Jt(m,h,y);g[y]?(g[y].p(D,_),S(g[y],1)):(g[y]=Qt(D),g[y].c(),S(g[y],1),g[y].m(d,null))}for(qe(),y=h.length;y<g.length;y+=1)b(y);ze()}},i(m){if(!f){for(let _=0;_<h.length;_+=1)S(g[_]);f=!0}},o(m){g=g.filter(Boolean);for(let _=0;_<g.length;_+=1)O(g[_]);f=!1},d(m){m&&v(e),Ne(g,m)}}}function ln(n){let e,t;return e=new Fi({}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function cn(n){let e,t;return{c(){e=k("img"),this.h()},l(s){e=T(s,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Z(e.src,t="/images/buffalo_travel_times.jpg")||p(e,"src",t),p(e,"alt","Travel times to Buffalo Jiu-Jitsu"),p(e,"class","object-contain not-prose md:col-span-2 max-w-7xl w-full rounded-sm")},m(s,r){w(s,e,r)},p:ne,d(s){s&&v(e)}}}function un(n){let e,t,s,r,i,a;return e=new te({props:{presetOptions:n[6],$$slots:{default:[on]},$$scope:{ctx:n}}}),s=new te({props:{presetOptions:n[7],$$slots:{default:[ln]},$$scope:{ctx:n}}}),i=new te({props:{class:"w-full h-full md:col-span-2",presetOptions:n[5],$$slots:{default:[cn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),t=C(),A(s.$$.fragment),r=C(),A(i.$$.fragment)},l(l){P(e.$$.fragment,l),t=I(l),P(s.$$.fragment,l),r=I(l),P(i.$$.fragment,l)},m(l,o){R(e,l,o),w(l,t,o),R(s,l,o),w(l,r,o),R(i,l,o),a=!0},p(l,o){const c={};o&33554432&&(c.$$scope={dirty:o,ctx:l}),e.$set(c);const u={};o&33554432&&(u.$$scope={dirty:o,ctx:l}),s.$set(u);const d={};o&33554432&&(d.$$scope={dirty:o,ctx:l}),i.$set(d)},i(l){a||(S(e.$$.fragment,l),S(s.$$.fragment,l),S(i.$$.fragment,l),a=!0)},o(l){O(e.$$.fragment,l),O(s.$$.fragment,l),O(i.$$.fragment,l),a=!1},d(l){l&&(v(t),v(r)),x(e,l),x(s,l),x(i,l)}}}function hn(n){let e,t;return e=new Ce({props:{class:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8 items-start",sizes:"max-w-7xl w-full",$$slots:{default:[un]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function dn(n){let e;return{c(){e=H("CONTACT US")},l(t){e=B(t,"CONTACT US")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function fn(n){let e;return{c(){e=H("LEARN MORE")},l(t){e=B(t,"LEARN MORE")},m(t,s){w(t,e,s)},d(t){t&&v(e)}}}function mn(n){let e,t="WELCOME TO BUFFALO JIU-JITSU",s,r,i='<div class="rounded-full h-44 w-44 md:h-64 md:w-64 lg:h-80 lg:w-80 border-4 -translate-x-12 md:translate-x-6 lg:translate-x-12 border-primary flex items-center justify-center"><h4 class="" style="margin:0">PASSION</h4></div> <div class="rounded-full h-44 w-44 md:h-64 md:w-64 lg:h-80 lg:w-80 -mt-12 border-4 md:mt-0 border-primary flex items-center justify-center"><h4 class="" style="margin:0">COMMUNITY</h4></div> <div class="rounded-full h-44 w-44 md:h-64 md:w-64 lg:h-80 lg:w-80 -mt-12 border-4 translate-x-12 md:mt-0 md:-translate-x-6 lg:-translate-x-12 border-primary flex items-center justify-center"><h4 class="" style="margin:0">AFFORDABILITY</h4></div>',a,l,o,c,u,d;return o=new ue({props:{class:"w-full ",href:"/contact",$$slots:{default:[dn]},$$scope:{ctx:n}}}),u=new ue({props:{class:"w-full",href:"/about",$$slots:{default:[fn]},$$scope:{ctx:n}}}),{c(){e=k("h2"),e.textContent=t,s=C(),r=k("div"),r.innerHTML=i,a=C(),l=k("div"),A(o.$$.fragment),c=C(),A(u.$$.fragment),this.h()},l(f){e=T(f,"H2",{class:!0,style:!0,"data-svelte-h":!0}),X(e)!=="svelte-k1ouuo"&&(e.textContent=t),s=I(f),r=T(f,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1tvecor"&&(r.innerHTML=i),a=I(f),l=T(f,"DIV",{class:!0});var h=L(l);P(o.$$.fragment,h),c=I(h),P(u.$$.fragment,h),h.forEach(v),this.h()},h(){p(e,"class","mx-auto"),V(e,"margin","0"),p(r,"class","flex flex-col md:flex-row items-center justify-center mx-auto w-full"),p(l,"class","grid grid-cols-2 gap-4 md:gap-6 place-items-center w-full max-w-lg pt-12")},m(f,h){w(f,e,h),w(f,s,h),w(f,r,h),w(f,a,h),w(f,l,h),R(o,l,null),j(l,c),R(u,l,null),d=!0},p(f,h){const g={};h&33554432&&(g.$$scope={dirty:h,ctx:f}),o.$set(g);const b={};h&33554432&&(b.$$scope={dirty:h,ctx:f}),u.$set(b)},i(f){d||(S(o.$$.fragment,f),S(u.$$.fragment,f),d=!0)},o(f){O(o.$$.fragment,f),O(u.$$.fragment,f),d=!1},d(f){f&&(v(e),v(s),v(r),v(a),v(l)),x(o),x(u)}}}function gn(n){let e,t;return e=new Ce({props:{class:"grid place-items-center mx-auto  gap-y-12 z-[7]",sizes:"max-w-7xl w-full",margin:"",$$slots:{default:[mn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function _n(n){let e,t;return e=new te({props:{presetOptions:n[4],class:"w-full h-full z-[7] grid place-items-center",$$slots:{default:[gn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function pn(n){let e,t,s,r,i,a,l;return a=new Ce({props:{class:"grid place-items-center gap-y-12 z-[7]",sizes:"max-w-7xl w-full",$$slots:{default:[_n]},$$scope:{ctx:n}}}),{c(){e=k("img"),s=C(),r=k("div"),i=C(),A(a.$$.fragment),this.h()},l(o){e=T(o,"IMG",{src:!0,alt:!0,class:!0}),s=I(o),r=T(o,"DIV",{class:!0}),L(r).forEach(v),i=I(o),P(a.$$.fragment,o),this.h()},h(){Z(e.src,t="/images/MJP_20230927_Mui_Wo_jiu-jitsu_9326.jpg")||p(e,"src",t),p(e,"alt",""),p(e,"class","not-prose w-full h-full absolute object-cover -z-0"),p(r,"class","bg-black/60 w-full h-full absolute z-[5]")},m(o,c){w(o,e,c),w(o,s,c),w(o,r,c),w(o,i,c),R(a,o,c),l=!0},p(o,c){const u={};c&33554432&&(u.$$scope={dirty:c,ctx:o}),a.$set(u)},i(o){l||(S(a.$$.fragment,o),l=!0)},o(o){O(a.$$.fragment,o),l=!1},d(o){o&&(v(e),v(s),v(r),v(i)),x(a,o)}}}function vn(n){let e,t,s,r,i,a,l,o,c,u,d,f;return e=new Ls({props:{CTAButtons:{},title:"BUFFALO JIU-JITSU",subtitle:"",justified:"center",bgVideo:{md:"/videos/1280_high.webm",lg:"/videos/1280_high.webm"},bgCover:"bg-amber-800/60 brightness-[0.15]",parallax:!0,inviewPresetOptions:n[4]}}),s=new $e({props:{class:"-translate-y-36 -mb-36 z-0 rounded-t-[25px] bg-background pt-12 pb-32",$$slots:{default:[Bi]},$$scope:{ctx:n}}}),i=new $e({props:{class:"bg-background py-18",$$slots:{default:[Ki]},$$scope:{ctx:n}}}),l=new $e({props:{class:"bg-background py-18 ",id:"classes",$$slots:{default:[an]},$$scope:{ctx:n}}}),c=new $e({props:{class:"bg-background py-18 text-left",$$slots:{default:[hn]},$$scope:{ctx:n}}}),d=new $e({props:{class:"py-64",$$slots:{default:[pn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment),t=C(),A(s.$$.fragment),r=C(),A(i.$$.fragment),a=C(),A(l.$$.fragment),o=C(),A(c.$$.fragment),u=C(),A(d.$$.fragment)},l(h){P(e.$$.fragment,h),t=I(h),P(s.$$.fragment,h),r=I(h),P(i.$$.fragment,h),a=I(h),P(l.$$.fragment,h),o=I(h),P(c.$$.fragment,h),u=I(h),P(d.$$.fragment,h)},m(h,g){R(e,h,g),w(h,t,g),R(s,h,g),w(h,r,g),R(i,h,g),w(h,a,g),R(l,h,g),w(h,o,g),R(c,h,g),w(h,u,g),R(d,h,g),f=!0},p(h,g){const b={};g&33554432&&(b.$$scope={dirty:g,ctx:h}),s.$set(b);const m={};g&33554432&&(m.$$scope={dirty:g,ctx:h}),i.$set(m);const _={};g&33554432&&(_.$$scope={dirty:g,ctx:h}),l.$set(_);const y={};g&33554432&&(y.$$scope={dirty:g,ctx:h}),c.$set(y);const D={};g&33554432&&(D.$$scope={dirty:g,ctx:h}),d.$set(D)},i(h){f||(S(e.$$.fragment,h),S(s.$$.fragment,h),S(i.$$.fragment,h),S(l.$$.fragment,h),S(c.$$.fragment,h),S(d.$$.fragment,h),f=!0)},o(h){O(e.$$.fragment,h),O(s.$$.fragment,h),O(i.$$.fragment,h),O(l.$$.fragment,h),O(c.$$.fragment,h),O(d.$$.fragment,h),f=!1},d(h){h&&(v(t),v(r),v(a),v(o),v(u)),x(e,h),x(s,h),x(i,h),x(l,h),x(c,h),x(d,h)}}}function bn(n){let e,t;return e=new Xe({props:{size:"lg",class:"text-center",$$slots:{default:[vn]},$$scope:{ctx:n}}}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,[r]){const i={};r&33554432&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(S(e.$$.fragment,s),t=!0)},o(s){O(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function yn(n){return[[{href:"https://www.instagram.com/buffalojiujitsu/",icon:"instagram"},{href:"http://www.facebook.com/buffalojiujitsu",icon:"facebook"},{href:"mailto:info@buffalojiujitsu.hk",icon:"email"}],[{title:"NO GI",body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud.",img:"/images/relaxed_bjj.gif"},{title:"OUR METHOD",body:"lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ut enim ad minim veniam, quis nostrud.",img:"/images/MJP_20230927_Mui_Wo_jiu-jitsu_9286.jpg"},{title:"THE VISION",body:"lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ut enim ad minim veniam, quis nostrud.",img:"/images/MJP_20230927_Mui_Wo_jiu-jitsu_9335.jpg"}],[{label:"GUEST TRIAL",price:"FREE"},{label:"MONTHLY",price:"$750"},{label:"DAY PASS",price:"$150"}],[{day:"MON",time:"7:45PM"},{day:"WED",time:"7:45PM"},{day:"THURS",time:"7:45PM"}],{delay:75,duration:400,once:!1,threshold:.2,fly:{x:0,y:25}},{delay:75,duration:400,once:!1,threshold:.2,fly:{x:0,y:-25}},{delay:100,duration:500,once:!1,fly:{x:-25,y:0}},{delay:100,duration:500,once:!1,fly:{x:25,y:0}}]}class On extends de{constructor(e){super(),fe(this,e,yn,bn,he,{})}}export{On as component};
